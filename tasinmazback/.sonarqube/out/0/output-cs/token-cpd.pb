É
_C:\Users\JAMUMU\Desktop\ASP.NET WEB(FM)\TASINMAZ\tasinmazback\TASINMAZ\Utilities\TokenHelper.cs
	namespace 	
TASINMAZ
 
. 
	Utilities 
{		 
public

 

static

 
class

 
TokenHelper

 #
{ 
public 
static 
string 
GenerateJwtToken -
(- .
User. 2
user3 7
,7 8
string9 ?
secret@ F
,F G
intH K
expireMinutesL Y
=Z [
$num\ ^
)^ _
{ 	
var 
tokenHandler 
= 
new "#
JwtSecurityTokenHandler# :
(: ;
); <
;< =
var 
key 
= 
Encoding 
. 
UTF8 #
.# $
GetBytes$ ,
(, -
secret- 3
)3 4
;4 5
var 
claims 
= 
new 
[ 
] 
{ 
new 
Claim 
( 

ClaimTypes $
.$ %
NameIdentifier% 3
,3 4
user5 9
.9 :
UserId: @
.@ A
ToStringA I
(I J
)J K
)K L
,L M
new 
Claim 
( 

ClaimTypes $
.$ %
Email% *
,* +
user, 0
.0 1
Email1 6
)6 7
,7 8
new 
Claim 
( 

ClaimTypes $
.$ %
Role% )
,) *
user+ /
./ 0
Role0 4
.4 5
ToString5 =
(= >
)> ?
)? @
} 
; 
var 
tokenDescriptor 
=  !
new" %#
SecurityTokenDescriptor& =
{ 
Subject 
= 
new 
ClaimsIdentity ,
(, -
claims- 3
)3 4
,4 5
Expires 
= 
DateTime "
." #
UtcNow# )
.) *

AddMinutes* 4
(4 5
expireMinutes5 B
)B C
,C D
SigningCredentials "
=# $
new% (
SigningCredentials) ;
(; <
new< ? 
SymmetricSecurityKey@ T
(T U
keyU X
)X Y
,Y Z
SecurityAlgorithms[ m
.m n 
HmacSha256Signature	n Å
)
Å Ç
} 
; 
var 
token 
= 
tokenHandler $
.$ %
CreateToken% 0
(0 1
tokenDescriptor1 @
)@ A
;A B
return   
tokenHandler   
.    

WriteToken    *
(  * +
token  + 0
)  0 1
;  1 2
}!! 	
}"" 
}## a
_C:\Users\JAMUMU\Desktop\ASP.NET WEB(FM)\TASINMAZ\tasinmazback\TASINMAZ\Utilities\ExcelHelper.csù
`C:\Users\JAMUMU\Desktop\ASP.NET WEB(FM)\TASINMAZ\tasinmazback\TASINMAZ\Utilities\CryptoHelper.cs
	namespace 	
TASINMAZ
 
. 
	Utilities 
{ 
public 

static 
class 
CryptoHelper $
{ 
public 
static 
string 
ComputeSha256Hash .
(. /
string/ 5
rawData6 =
)= >
{		 	
using 
( 
SHA256 

sha256Hash $
=% &
SHA256' -
.- .
Create. 4
(4 5
)5 6
)6 7
{ 
byte 
[ 
] 
bytes 
= 

sha256Hash )
.) *
ComputeHash* 5
(5 6
Encoding6 >
.> ?
UTF8? C
.C D
GetBytesD L
(L M
rawDataM T
)T U
)U V
;V W
StringBuilder 
builder %
=& '
new( +
StringBuilder, 9
(9 :
): ;
;; <
foreach 
( 
var 
b 
in !
bytes" '
)' (
{ 
builder 
. 
Append "
(" #
b# $
.$ %
ToString% -
(- .
$str. 2
)2 3
)3 4
;4 5
} 
return 
builder 
. 
ToString '
(' (
)( )
;) *
} 
} 	
} 
} Ùß
^C:\Users\JAMUMU\Desktop\ASP.NET WEB(FM)\TASINMAZ\tasinmazback\TASINMAZ\Services\UserService.cs
	namespace 	
TASINMAZ
 
. 
Services 
{ 
public 

class 
UserService 
: 
IUserService +
{ 
private 
readonly 
AppDbContext %
_context& .
;. /
public 
UserService 
( 
AppDbContext '
context( /
)/ 0
{ 	
_context 
= 
context 
; 
} 	
public 
async 
Task 
< 
List 
< 
UserDto &
>& '
>' (
GetAllAsync) 4
(4 5
)5 6
{ 	
return 
await 
_context !
.! "
Users" '
. 
Select 
( 
u 
=> 
new  
UserDto! (
{ 
UserId 
= 
u 
. 
UserId %
,% &
FullName 
= 
u  
.  !
FullName! )
,) *
Email   
=   
u   
.   
Email   #
,  # $
Role!! 
=!! 
u!! 
.!! 
Role!! !
.!!! "
ToString!!" *
(!!* +
)!!+ ,
}"" 
)"" 
.## 
ToListAsync## 
(## 
)## 
;## 
}$$ 	
public&& 
async&& 
Task&& 
<&& 
List&& 
<&& 
UserDto&& &
>&&& '
>&&' (
FilterAsync&&) 4
(&&4 5
UserFilterDto&&5 B
filter&&C I
)&&I J
{'' 	
var(( 
query(( 
=(( 
_context((  
.((  !
Users((! &
.((& '
AsQueryable((' 2
(((2 3
)((3 4
;((4 5
if** 
(** 
filter** 
.** 
UserId** 
.** 
HasValue** &
)**& '
query++ 
=++ 
query++ 
.++ 
Where++ #
(++# $
u++$ %
=>++& (
u++) *
.++* +
UserId+++ 1
==++2 4
filter++5 ;
.++; <
UserId++< B
.++B C
Value++C H
)++H I
;++I J
if,, 
(,, 
!,, 
string,, 
.,, 
IsNullOrEmpty,, %
(,,% &
filter,,& ,
.,,, -
Email,,- 2
),,2 3
),,3 4
query-- 
=-- 
query-- 
.-- 
Where-- #
(--# $
u--$ %
=>--& (
u--) *
.--* +
Email--+ 0
.--0 1
Contains--1 9
(--9 :
filter--: @
.--@ A
Email--A F
)--F G
)--G H
;--H I
if.. 
(.. 
!.. 
string.. 
... 
IsNullOrEmpty.. %
(..% &
filter..& ,
..., -
Role..- 1
)..1 2
)..2 3
query// 
=// 
query// 
.// 
Where// #
(//# $
u//$ %
=>//& (
u//) *
.//* +
Role//+ /
./// 0
ToString//0 8
(//8 9
)//9 :
==//; =
filter//> D
.//D E
Role//E I
)//I J
;//J K
if00 
(00 
!00 
string00 
.00 
IsNullOrEmpty00 %
(00% &
filter00& ,
.00, -
FullName00- 5
)005 6
)006 7
query11 
=11 
query11 
.11 
Where11 #
(11# $
u11$ %
=>11& (
u11) *
.11* +
FullName11+ 3
.113 4
Contains114 <
(11< =
filter11= C
.11C D
FullName11D L
)11L M
)11M N
;11N O
return33 
await33 
query33 
.44 
Select44 
(44 
u44 
=>44 
new44  
UserDto44! (
{55 
UserId66 
=66 
u66 
.66 
UserId66 %
,66% &
FullName77 
=77 
u77  
.77  !
FullName77! )
,77) *
Email88 
=88 
u88 
.88 
Email88 #
,88# $
Role99 
=99 
u99 
.99 
Role99 !
.99! "
ToString99" *
(99* +
)99+ ,
};; 
);; 
.<< 
ToListAsync<< 
(<< 
)<< 
;<< 
}== 	
public?? 
async?? 
Task?? 
<?? 
UserDto?? !
>??! "
CreateAsync??# .
(??. /
UserCreateDto??/ <
dto??= @
)??@ A
{@@ 	
varAA 
existingUserAA 
=AA 
awaitAA $
_contextAA% -
.AA- .
UsersAA. 3
.AA3 4
FirstOrDefaultAsyncAA4 G
(AAG H
uAAH I
=>AAJ L
uAAM N
.AAN O
EmailAAO T
==AAU W
dtoAAX [
.AA[ \
EmailAA\ a
)AAa b
;AAb c
ifBB 
(BB 
existingUserBB 
!=BB 
nullBB  $
)BB$ %
throwCC 
newCC 
SystemCC  
.CC  !
	ExceptionCC! *
(CC* +
$strCC+ ]
)CC] ^
;CC^ _
usingEE 
varEE 
hmacEE 
=EE 
newEE  
SystemEE! '
.EE' (
SecurityEE( 0
.EE0 1
CryptographyEE1 =
.EE= >

HMACSHA256EE> H
(EEH I
)EEI J
;EEJ K
varFF 
entityFF 
=FF 
newFF 
UserFF !
{GG 
FullNameHH 
=HH 
dtoHH 
.HH 
FullNameHH '
,HH' (
EmailII 
=II 
dtoII 
.II 
EmailII !
,II! "
PasswordHashJJ 
=JJ 
hmacJJ #
.JJ# $
ComputeHashJJ$ /
(JJ/ 0
SystemJJ0 6
.JJ6 7
TextJJ7 ;
.JJ; <
EncodingJJ< D
.JJD E
UTF8JJE I
.JJI J
GetBytesJJJ R
(JJR S
dtoJJS V
.JJV W
PasswordJJW _
)JJ_ `
)JJ` a
,JJa b
PasswordSaltKK 
=KK 
hmacKK #
.KK# $
KeyKK$ '
,KK' (
RoleLL 
=LL 
EnumLL 
.LL 
ParseLL !
<LL! "
RoleLL" &
>LL& '
(LL' (
dtoLL( +
.LL+ ,
RoleLL, 0
)LL0 1
}MM 
;MM 
_contextOO 
.OO 
UsersOO 
.OO 
AddOO 
(OO 
entityOO %
)OO% &
;OO& '
awaitPP 
_contextPP 
.PP 
SaveChangesAsyncPP +
(PP+ ,
)PP, -
;PP- .
awaitSS 
_contextSS 
.SS 
LogsSS 
.SS  
AddAsyncSS  (
(SS( )
newSS) ,
LogSS- 0
{TT 
UserIdUU 
=UU 
entityUU 
.UU  
UserIdUU  &
,UU& '
DurumVV 
=VV 
$strVV "
,VV" #
	IslemTipiWW 
=WW 
$strWW 1
,WW1 2
AciklamaXX 
=XX 
$"XX 
$strXX 9
{XX9 :
entityXX: @
.XX@ A
EmailXXA F
}XXF G
"XXG H
,XXH I
TarihYY 
=YY 
DateTimeYY  
.YY  !
UtcNowYY! '
,YY' (
SaatZZ 
=ZZ 
DateTimeZZ 
.ZZ  
UtcNowZZ  &
.ZZ& '
	TimeOfDayZZ' 0
}[[ 
)[[ 
;[[ 
await\\ 
_context\\ 
.\\ 
SaveChangesAsync\\ +
(\\+ ,
)\\, -
;\\- .
return^^ 
new^^ 
UserDto^^ 
{__ 
UserId`` 
=`` 
entity`` 
.``  
UserId``  &
,``& '
FullNameaa 
=aa 
entityaa !
.aa! "
FullNameaa" *
,aa* +
Emailbb 
=bb 
entitybb 
.bb 
Emailbb $
,bb$ %
Rolecc 
=cc 
entitycc 
.cc 
Rolecc "
.cc" #
ToStringcc# +
(cc+ ,
)cc, -
}dd 
;dd 
}ee 	
publicgg 
asyncgg 
Taskgg 
<gg 
boolgg 
>gg 
DeleteAsyncgg  +
(gg+ ,
intgg, /
idgg0 2
)gg2 3
{hh 	
varii 
entityii 
=ii 
awaitii 
_contextii '
.ii' (
Usersii( -
.ii- .
	FindAsyncii. 7
(ii7 8
idii8 :
)ii: ;
;ii; <
ifjj 
(jj 
entityjj 
==jj 
nulljj 
)jj 
returnjj  &
falsejj' ,
;jj, -
_contextll 
.ll 
Usersll 
.ll 
Removell !
(ll! "
entityll" (
)ll( )
;ll) *
awaitmm 
_contextmm 
.mm 
SaveChangesAsyncmm +
(mm+ ,
)mm, -
;mm- .
returnnn 
truenn 
;nn 
}oo 	
publicqq 
asyncqq 
Taskqq 
<qq 
byteqq 
[qq 
]qq  
>qq  !
ExportToExcelAsyncqq" 4
(qq4 5
UserFilterDtoqq5 B
filterqqC I
)qqI J
{rr 	
varss 
usersss 
=ss 
awaitss 
FilterAsyncss )
(ss) *
filterss* 0
)ss0 1
;ss1 2
usinguu 
varuu 
packageuu 
=uu 
newuu  #
ExcelPackageuu$ 0
(uu0 1
)uu1 2
;uu2 3
varvv 
	worksheetvv 
=vv 
packagevv #
.vv# $
Workbookvv$ ,
.vv, -

Worksheetsvv- 7
.vv7 8
Addvv8 ;
(vv; <
$strvv< C
)vvC D
;vvD E
	worksheetxx 
.xx 
Cellsxx 
[xx 
$numxx 
,xx 
$numxx  
]xx  !
.xx! "
Valuexx" '
=xx( )
$strxx* 2
;xx2 3
	worksheetyy 
.yy 
Cellsyy 
[yy 
$numyy 
,yy 
$numyy  
]yy  !
.yy! "
Valueyy" '
=yy( )
$stryy* 4
;yy4 5
	worksheetzz 
.zz 
Cellszz 
[zz 
$numzz 
,zz 
$numzz  
]zz  !
.zz! "
Valuezz" '
=zz( )
$strzz* 1
;zz1 2
	worksheet{{ 
.{{ 
Cells{{ 
[{{ 
$num{{ 
,{{ 
$num{{  
]{{  !
.{{! "
Value{{" '
={{( )
$str{{* 0
;{{0 1
for}} 
(}} 
int}} 
i}} 
=}} 
$num}} 
;}} 
i}} 
<}} 
users}}  %
.}}% &
Count}}& +
;}}+ ,
i}}- .
++}}. 0
)}}0 1
{~~ 
var 
u 
= 
users 
[ 
i 
]  
;  !
	worksheet
ÄÄ 
.
ÄÄ 
Cells
ÄÄ 
[
ÄÄ  
i
ÄÄ  !
+
ÄÄ" #
$num
ÄÄ$ %
,
ÄÄ% &
$num
ÄÄ' (
]
ÄÄ( )
.
ÄÄ) *
Value
ÄÄ* /
=
ÄÄ0 1
u
ÄÄ2 3
.
ÄÄ3 4
UserId
ÄÄ4 :
;
ÄÄ: ;
	worksheet
ÅÅ 
.
ÅÅ 
Cells
ÅÅ 
[
ÅÅ  
i
ÅÅ  !
+
ÅÅ" #
$num
ÅÅ$ %
,
ÅÅ% &
$num
ÅÅ' (
]
ÅÅ( )
.
ÅÅ) *
Value
ÅÅ* /
=
ÅÅ0 1
u
ÅÅ2 3
.
ÅÅ3 4
FullName
ÅÅ4 <
;
ÅÅ< =
	worksheet
ÇÇ 
.
ÇÇ 
Cells
ÇÇ 
[
ÇÇ  
i
ÇÇ  !
+
ÇÇ" #
$num
ÇÇ$ %
,
ÇÇ% &
$num
ÇÇ' (
]
ÇÇ( )
.
ÇÇ) *
Value
ÇÇ* /
=
ÇÇ0 1
u
ÇÇ2 3
.
ÇÇ3 4
Email
ÇÇ4 9
;
ÇÇ9 :
	worksheet
ÉÉ 
.
ÉÉ 
Cells
ÉÉ 
[
ÉÉ  
i
ÉÉ  !
+
ÉÉ" #
$num
ÉÉ$ %
,
ÉÉ% &
$num
ÉÉ' (
]
ÉÉ( )
.
ÉÉ) *
Value
ÉÉ* /
=
ÉÉ0 1
u
ÉÉ2 3
.
ÉÉ3 4
Role
ÉÉ4 8
;
ÉÉ8 9
}
ÑÑ 
return
ÜÜ 
package
ÜÜ 
.
ÜÜ 
GetAsByteArray
ÜÜ )
(
ÜÜ) *
)
ÜÜ* +
;
ÜÜ+ ,
}
áá 	
public
ââ 
async
ââ 
Task
ââ 
<
ââ 
byte
ââ 
[
ââ 
]
ââ  
>
ââ  !
ExportToPdfAsync
ââ" 2
(
ââ2 3
UserFilterDto
ââ3 @
filter
ââA G
)
ââG H
{
ää 	
var
ãã 
users
ãã 
=
ãã 
await
ãã 
FilterAsync
ãã )
(
ãã) *
filter
ãã* 0
)
ãã0 1
;
ãã1 2
using
çç 
var
çç 
stream
çç 
=
çç 
new
çç "
MemoryStream
çç# /
(
çç/ 0
)
çç0 1
;
çç1 2
var
éé 
document
éé 
=
éé 
new
éé 
PdfDocument
éé *
(
éé* +
)
éé+ ,
;
éé, -
var
èè 
page
èè 
=
èè 
document
èè 
.
èè  
AddPage
èè  '
(
èè' (
)
èè( )
;
èè) *
var
êê 
gfx
êê 
=
êê 
	XGraphics
êê 
.
êê  
FromPdfPage
êê  +
(
êê+ ,
page
êê, 0
)
êê0 1
;
êê1 2
var
ëë 
font
ëë 
=
ëë 
new
ëë 
XFont
ëë  
(
ëë  !
$str
ëë! (
,
ëë( )
$num
ëë* ,
,
ëë, -

XFontStyle
ëë. 8
.
ëë8 9
Regular
ëë9 @
)
ëë@ A
;
ëëA B
double
ìì 
y
ìì 
=
ìì 
$num
ìì 
;
ìì 
gfx
îî 
.
îî 

DrawString
îî 
(
îî 
$str
îî =
,
îî= >
font
îî? C
,
îîC D
XBrushes
îîE M
.
îîM N
Black
îîN S
,
îîS T
new
îîU X
XRect
îîY ^
(
îî^ _
$num
îî_ a
,
îîa b
y
îîc d
,
îîd e
page
îîf j
.
îîj k
Width
îîk p
,
îîp q
page
îîr v
.
îîv w
Height
îîw }
)
îî} ~
,
îî~ 
XStringFormatsîîÄ é
.îîé è
TopLeftîîè ñ
)îîñ ó
;îîó ò
y
ïï 
+=
ïï 
$num
ïï 
;
ïï 
foreach
óó 
(
óó 
var
óó 
u
óó 
in
óó 
users
óó #
)
óó# $
{
òò 
string
ôô 
line
ôô 
=
ôô 
$"
ôô  
{
ôô  !
u
ôô! "
.
ôô" #
UserId
ôô# )
}
ôô) *
$str
ôô* -
{
ôô- .
u
ôô. /
.
ôô/ 0
FullName
ôô0 8
}
ôô8 9
$str
ôô9 <
{
ôô< =
u
ôô= >
.
ôô> ?
Email
ôô? D
}
ôôD E
$str
ôôE H
{
ôôH I
u
ôôI J
.
ôôJ K
Role
ôôK O
}
ôôO P
"
ôôP Q
;
ôôQ R
gfx
öö 
.
öö 

DrawString
öö 
(
öö 
line
öö #
,
öö# $
font
öö% )
,
öö) *
XBrushes
öö+ 3
.
öö3 4
Black
öö4 9
,
öö9 :
new
öö; >
XRect
öö? D
(
ööD E
$num
ööE G
,
ööG H
y
ööI J
,
ööJ K
page
ööL P
.
ööP Q
Width
ööQ V
,
ööV W
page
ööX \
.
öö\ ]
Height
öö] c
)
ööc d
,
ööd e
XStringFormats
ööf t
.
ööt u
TopLeft
ööu |
)
öö| }
;
öö} ~
y
õõ 
+=
õõ 
$num
õõ 
;
õõ 
if
úú 
(
úú 
y
úú 
>
úú 
page
úú 
.
úú 
Height
úú #
-
úú$ %
$num
úú& (
)
úú( )
{
ùù 
page
ûû 
=
ûû 
document
ûû #
.
ûû# $
AddPage
ûû$ +
(
ûû+ ,
)
ûû, -
;
ûû- .
gfx
üü 
=
üü 
	XGraphics
üü #
.
üü# $
FromPdfPage
üü$ /
(
üü/ 0
page
üü0 4
)
üü4 5
;
üü5 6
y
†† 
=
†† 
$num
†† 
;
†† 
}
°° 
}
¢¢ 
document
§§ 
.
§§ 
Save
§§ 
(
§§ 
stream
§§  
,
§§  !
false
§§" '
)
§§' (
;
§§( )
return
•• 
stream
•• 
.
•• 
ToArray
•• !
(
••! "
)
••" #
;
••# $
}
¶¶ 	
public
®® 
async
®® 
Task
®® 
<
®® 
UserDto
®® !
?
®®! "
>
®®" #
UpdateAsync
®®$ /
(
®®/ 0
int
®®0 3
id
®®4 6
,
®®6 7
UserDto
®®8 ?
dto
®®@ C
)
®®C D
{
©© 	
var
™™ 
user
™™ 
=
™™ 
await
™™ 
_context
™™ %
.
™™% &
Users
™™& +
.
™™+ ,
	FindAsync
™™, 5
(
™™5 6
id
™™6 8
)
™™8 9
;
™™9 :
if
´´ 
(
´´ 
user
´´ 
==
´´ 
null
´´ 
)
´´ 
return
¨¨ 
null
¨¨ 
;
¨¨ 
user
ÆÆ 
.
ÆÆ 
FullName
ÆÆ 
=
ÆÆ 
dto
ÆÆ 
.
ÆÆ  
FullName
ÆÆ  (
;
ÆÆ( )
user
ØØ 
.
ØØ 
Email
ØØ 
=
ØØ 
dto
ØØ 
.
ØØ 
Email
ØØ "
;
ØØ" #
user
∞∞ 
.
∞∞ 
Role
∞∞ 
=
∞∞ 
Enum
∞∞ 
.
∞∞ 
Parse
∞∞ "
<
∞∞" #
Role
∞∞# '
>
∞∞' (
(
∞∞( )
dto
∞∞) ,
.
∞∞, -
Role
∞∞- 1
)
∞∞1 2
;
∞∞2 3
if
≤≤ 
(
≤≤ 
!
≤≤ 
string
≤≤ 
.
≤≤  
IsNullOrWhiteSpace
≤≤ *
(
≤≤* +
dto
≤≤+ .
.
≤≤. /
Password
≤≤/ 7
)
≤≤7 8
)
≤≤8 9
{
≥≥ 
using
¥¥ 
var
¥¥ 
hmac
¥¥ 
=
¥¥  
new
¥¥! $
System
¥¥% +
.
¥¥+ ,
Security
¥¥, 4
.
¥¥4 5
Cryptography
¥¥5 A
.
¥¥A B

HMACSHA256
¥¥B L
(
¥¥L M
)
¥¥M N
;
¥¥N O
user
µµ 
.
µµ 
PasswordHash
µµ !
=
µµ" #
hmac
µµ$ (
.
µµ( )
ComputeHash
µµ) 4
(
µµ4 5
System
µµ5 ;
.
µµ; <
Text
µµ< @
.
µµ@ A
Encoding
µµA I
.
µµI J
UTF8
µµJ N
.
µµN O
GetBytes
µµO W
(
µµW X
dto
µµX [
.
µµ[ \
Password
µµ\ d
)
µµd e
)
µµe f
;
µµf g
user
∂∂ 
.
∂∂ 
PasswordSalt
∂∂ !
=
∂∂" #
hmac
∂∂$ (
.
∂∂( )
Key
∂∂) ,
;
∂∂, -
}
∑∑ 
await
ππ 
_context
ππ 
.
ππ 
SaveChangesAsync
ππ +
(
ππ+ ,
)
ππ, -
;
ππ- .
return
ªª 
new
ªª 
UserDto
ªª 
{
ºº 
UserId
ΩΩ 
=
ΩΩ 
user
ΩΩ 
.
ΩΩ 
UserId
ΩΩ $
,
ΩΩ$ %
FullName
ææ 
=
ææ 
user
ææ 
.
ææ  
FullName
ææ  (
,
ææ( )
Email
øø 
=
øø 
user
øø 
.
øø 
Email
øø "
,
øø" #
Role
¿¿ 
=
¿¿ 
user
¿¿ 
.
¿¿ 
Role
¿¿  
.
¿¿  !
ToString
¿¿! )
(
¿¿) *
)
¿¿* +
}
¡¡ 
;
¡¡ 
}
¬¬ 	
}
√√ 
}ƒƒ ‰û
bC:\Users\JAMUMU\Desktop\ASP.NET WEB(FM)\TASINMAZ\tasinmazback\TASINMAZ\Services\TasinmazService.cs
	namespace 	
TASINMAZ
 
. 
Services 
{ 
public 

class 
TasinmazService  
:! "
ITasinmazService# 3
{ 
private 
readonly 
AppDbContext %
_context& .
;. /
private 
readonly 
ILogService $
_logService% 0
;0 1
public 
TasinmazService 
( 
AppDbContext +
context, 3
,3 4
ILogService5 @

logServiceA K
)K L
{ 	
_context 
= 
context 
; 
_logService 
= 

logService $
;$ %
} 	
public 
async 
Task 
< 
List 
< 
TasinmazDto *
>* +
>+ ,
GetAllAsync- 8
(8 9
)9 :
{ 	
return 
await 
_context !
.! "
Tasinmazlar" -
.   
Select   
(   
t   
=>   
new    
TasinmazDto  ! ,
{!! 

TasinmazId"" 
=""  
t""! "
.""" #

TasinmazId""# -
,""- .
	MahalleId## 
=## 
t##  !
.##! "
	MahalleId##" +
,##+ ,
Ada$$ 
=$$ 
t$$ 
.$$ 
Ada$$ 
,$$  
Parsel%% 
=%% 
t%% 
.%% 
Parsel%% %
,%%% &
Nitelik&& 
=&& 
t&& 
.&&  
Nitelik&&  '
.&&' (
ToString&&( 0
(&&0 1
)&&1 2
,&&2 3
KoordinatBilgileri'' &
=''' (
t'') *
.''* +
KoordinatBilgileri''+ =
}(( 
)(( 
.)) 
ToListAsync)) 
()) 
))) 
;)) 
}** 	
public,, 
async,, 
Task,, 
<,, 
List,, 
<,, 
TasinmazDto,, *
>,,* +
>,,+ ,
GetAllByUserIdAsync,,- @
(,,@ A
int,,A D
userId,,E K
),,K L
{-- 	
return.. 
await.. 
_context.. !
...! "
Tasinmazlar.." -
.// 
Where// 
(// 
t// 
=>// 
t// 
.// 
UserId// $
==//% '
userId//( .
)//. /
.00 
Select00 
(00 
t00 
=>00 
new00  
TasinmazDto00! ,
{11 

TasinmazId22 
=22  
t22! "
.22" #

TasinmazId22# -
,22- .
	MahalleId33 
=33 
t33  !
.33! "
	MahalleId33" +
,33+ ,
Ada44 
=44 
t44 
.44 
Ada44 
,44  
Parsel55 
=55 
t55 
.55 
Parsel55 %
,55% &
Nitelik66 
=66 
t66 
.66  
Nitelik66  '
.66' (
ToString66( 0
(660 1
)661 2
,662 3
KoordinatBilgileri77 &
=77' (
t77) *
.77* +
KoordinatBilgileri77+ =
}88 
)88 
.99 
ToListAsync99 
(99 
)99 
;99 
}:: 	
public<< 
async<< 
Task<< 
<<< 
TasinmazDto<< %
><<% &
CreateAsync<<' 2
(<<2 3
TasinmazDto<<3 >
dto<<? B
)<<B C
{== 	
var>> 
entity>> 
=>> 
new>> 
Tasinmaz>> %
{?? 
	MahalleId@@ 
=@@ 
dto@@ 
.@@  
	MahalleId@@  )
,@@) *
AdaAA 
=AA 
dtoAA 
.AA 
AdaAA 
,AA 
ParselBB 
=BB 
dtoBB 
.BB 
ParselBB #
,BB# $
NitelikCC 
=CC 
EnumCC 
.CC 
ParseCC $
<CC$ %
NitelikCC% ,
>CC, -
(CC- .
dtoCC. 1
.CC1 2
NitelikCC2 9
)CC9 :
,CC: ;
KoordinatBilgileriDD "
=DD# $
dtoDD% (
.DD( )
KoordinatBilgileriDD) ;
}EE 
;EE 
_contextGG 
.GG 
TasinmazlarGG  
.GG  !
AddGG! $
(GG$ %
entityGG% +
)GG+ ,
;GG, -
awaitHH 
_contextHH 
.HH 
SaveChangesAsyncHH +
(HH+ ,
)HH, -
;HH- .
dtoJJ 
.JJ 

TasinmazIdJJ 
=JJ 
entityJJ #
.JJ# $

TasinmazIdJJ$ .
;JJ. /
returnKK 
dtoKK 
;KK 
}LL 	
publicNN 
asyncNN 
TaskNN 
<NN 
TasinmazDtoNN %
>NN% &
CreateAsyncNN' 2
(NN2 3
TasinmazDtoNN3 >
dtoNN? B
,NNB C
intNND G
userIdNNH N
)NNN O
{OO 	
varPP 
userPP 
=PP 
awaitPP 
_contextPP %
.PP% &
UsersPP& +
.PP+ ,
	FindAsyncPP, 5
(PP5 6
userIdPP6 <
)PP< =
;PP= >
ifQQ 
(QQ 
userQQ 
==QQ 
nullQQ 
)QQ 
throwRR 
newRR 
	ExceptionRR #
(RR# $
$strRR$ ;
)RR; <
;RR< =
varTT 
entityTT 
=TT 
newTT 
TasinmazTT %
{UU 
	MahalleIdVV 
=VV 
dtoVV 
.VV  
	MahalleIdVV  )
,VV) *
AdaWW 
=WW 
dtoWW 
.WW 
AdaWW 
,WW 
ParselXX 
=XX 
dtoXX 
.XX 
ParselXX #
,XX# $
NitelikYY 
=YY 
EnumYY 
.YY 
ParseYY $
<YY$ %
NitelikYY% ,
>YY, -
(YY- .
dtoYY. 1
.YY1 2
NitelikYY2 9
)YY9 :
,YY: ;
KoordinatBilgileriZZ "
=ZZ# $
dtoZZ% (
.ZZ( )
KoordinatBilgileriZZ) ;
,ZZ; <
UserId[[ 
=[[ 
userId[[ 
,[[  
}\\ 
;\\ 
_context^^ 
.^^ 
Tasinmazlar^^  
.^^  !
Add^^! $
(^^$ %
entity^^% +
)^^+ ,
;^^, -
await__ 
_context__ 
.__ 
SaveChangesAsync__ +
(__+ ,
)__, -
;__- .
awaitbb 
_logServicebb 
.bb 
AddAsyncbb &
(bb& '
newbb' *
LogDtobb+ 1
{cc 
UserIddd 
=dd 
userIddd 
,dd  
Durumee 
=ee 
$stree "
,ee" #
	IslemTipiff 
=ff 
$strff '
,ff' (
Aciklamagg 
=gg 
$"gg 
$strgg /
{gg/ 0
entitygg0 6
.gg6 7

TasinmazIdgg7 A
}ggA B
"ggB C
,ggC D
Tarihhh 
=hh 
DateTimehh  
.hh  !
UtcNowhh! '
,hh' (
Saatii 
=ii 
DateTimeii 
.ii  
UtcNowii  &
.ii& '
	TimeOfDayii' 0
}jj 
)jj 
;jj 
dtoll 
.ll 

TasinmazIdll 
=ll 
entityll #
.ll# $

TasinmazIdll$ .
;ll. /
returnmm 
dtomm 
;mm 
}nn 	
publicpp 
asyncpp 
Taskpp 
<pp 
boolpp 
>pp 
DeleteAsyncpp  +
(pp+ ,
intpp, /
idpp0 2
)pp2 3
{qq 	
varrr 
entityrr 
=rr 
awaitrr 
_contextrr '
.rr' (
Tasinmazlarrr( 3
.rr3 4
	FindAsyncrr4 =
(rr= >
idrr> @
)rr@ A
;rrA B
ifss 
(ss 
entityss 
==ss 
nullss 
)ss 
returnss  &
falsess' ,
;ss, -
_contextuu 
.uu 
Tasinmazlaruu  
.uu  !
Removeuu! '
(uu' (
entityuu( .
)uu. /
;uu/ 0
awaitvv 
_contextvv 
.vv 
SaveChangesAsyncvv +
(vv+ ,
)vv, -
;vv- .
returnww 
trueww 
;ww 
}xx 	
publiczz 
asynczz 
Taskzz 
<zz 
boolzz 
>zz 
DeleteAsynczz  +
(zz+ ,
intzz, /
idzz0 2
,zz2 3
intzz4 7
userIdzz8 >
)zz> ?
{{{ 	
var|| 
entity|| 
=|| 
await|| 
_context|| '
.||' (
Tasinmazlar||( 3
.||3 4
FirstOrDefaultAsync||4 G
(||G H
t||H I
=>||J L
t||M N
.||N O

TasinmazId||O Y
==||Z \
id||] _
&&||` b
t||c d
.||d e
UserId||e k
==||l n
userId||o u
)||u v
;||v w
if}} 
(}} 
entity}} 
==}} 
null}} 
)}} 
return}}  &
false}}' ,
;}}, -
_context 
. 
Tasinmazlar  
.  !
Remove! '
(' (
entity( .
). /
;/ 0
await
ÄÄ 
_context
ÄÄ 
.
ÄÄ 
SaveChangesAsync
ÄÄ +
(
ÄÄ+ ,
)
ÄÄ, -
;
ÄÄ- .
await
ÉÉ 
_logService
ÉÉ 
.
ÉÉ 
AddAsync
ÉÉ &
(
ÉÉ& '
new
ÉÉ' *
LogDto
ÉÉ+ 1
{
ÑÑ 
UserId
ÖÖ 
=
ÖÖ 
userId
ÖÖ 
,
ÖÖ  
Durum
ÜÜ 
=
ÜÜ 
$str
ÜÜ "
,
ÜÜ" #
	IslemTipi
áá 
=
áá 
$str
áá #
,
áá# $
Aciklama
àà 
=
àà 
$"
àà 
$str
àà /
{
àà/ 0
id
àà0 2
}
àà2 3
"
àà3 4
,
àà4 5
Tarih
ââ 
=
ââ 
DateTime
ââ  
.
ââ  !
UtcNow
ââ! '
,
ââ' (
Saat
ää 
=
ää 
DateTime
ää 
.
ää  
UtcNow
ää  &
.
ää& '
	TimeOfDay
ää' 0
}
ãã 
)
ãã 
;
ãã 
return
çç 
true
çç 
;
çç 
}
éé 	
public
êê 
async
êê 
Task
êê 
<
êê 
bool
êê 
>
êê 
DeleteAsync
êê  +
(
êê+ ,
int
êê, /
id
êê0 2
,
êê2 3
int
êê4 7
userId
êê8 >
,
êê> ?
bool
êê@ D
isAdmin
êêE L
)
êêL M
{
ëë 	
Tasinmaz
íí 
?
íí 
entity
íí 
;
íí 
if
ìì 
(
ìì 
isAdmin
ìì 
)
ìì 
entity
îî 
=
îî 
await
îî 
_context
îî '
.
îî' (
Tasinmazlar
îî( 3
.
îî3 4!
FirstOrDefaultAsync
îî4 G
(
îîG H
t
îîH I
=>
îîJ L
t
îîM N
.
îîN O

TasinmazId
îîO Y
==
îîZ \
id
îî] _
)
îî_ `
;
îî` a
else
ïï 
entity
ññ 
=
ññ 
await
ññ 
_context
ññ '
.
ññ' (
Tasinmazlar
ññ( 3
.
ññ3 4!
FirstOrDefaultAsync
ññ4 G
(
ññG H
t
ññH I
=>
ññJ L
t
ññM N
.
ññN O

TasinmazId
ññO Y
==
ññZ \
id
ññ] _
&&
ññ` b
t
ññc d
.
ññd e
UserId
ññe k
==
ññl n
userId
ñño u
)
ññu v
;
ññv w
if
òò 
(
òò 
entity
òò 
==
òò 
null
òò 
)
òò 
return
òò  &
false
òò' ,
;
òò, -
_context
öö 
.
öö 
Tasinmazlar
öö  
.
öö  !
Remove
öö! '
(
öö' (
entity
öö( .
)
öö. /
;
öö/ 0
await
õõ 
_context
õõ 
.
õõ 
SaveChangesAsync
õõ +
(
õõ+ ,
)
õõ, -
;
õõ- .
await
ûû 
_logService
ûû 
.
ûû 
AddAsync
ûû &
(
ûû& '
new
ûû' *
LogDto
ûû+ 1
{
üü 
UserId
†† 
=
†† 
userId
†† 
,
††  
Durum
°° 
=
°° 
$str
°° "
,
°°" #
	IslemTipi
¢¢ 
=
¢¢ 
$str
¢¢ #
,
¢¢# $
Aciklama
££ 
=
££ 
$"
££ 
$str
££ /
{
££/ 0
id
££0 2
}
££2 3
"
££3 4
,
££4 5
Tarih
§§ 
=
§§ 
DateTime
§§  
.
§§  !
UtcNow
§§! '
,
§§' (
Saat
•• 
=
•• 
DateTime
•• 
.
••  
UtcNow
••  &
.
••& '
	TimeOfDay
••' 0
}
¶¶ 
)
¶¶ 
;
¶¶ 
return
®® 
true
®® 
;
®® 
}
©© 	
public
´´ 
async
´´ 
Task
´´ 
<
´´ 
TasinmazDto
´´ %
?
´´% &
>
´´& '
UpdateAsync
´´( 3
(
´´3 4
int
´´4 7
id
´´8 :
,
´´: ;
TasinmazDto
´´< G
dto
´´H K
,
´´K L
int
´´M P
userId
´´Q W
)
´´W X
{
¨¨ 	
var
≠≠ 
entity
≠≠ 
=
≠≠ 
await
≠≠ 
_context
≠≠ '
.
≠≠' (
Tasinmazlar
≠≠( 3
.
≠≠3 4!
FirstOrDefaultAsync
≠≠4 G
(
≠≠G H
t
≠≠H I
=>
≠≠J L
t
≠≠M N
.
≠≠N O

TasinmazId
≠≠O Y
==
≠≠Z \
id
≠≠] _
&&
≠≠` b
t
≠≠c d
.
≠≠d e
UserId
≠≠e k
==
≠≠l n
userId
≠≠o u
)
≠≠u v
;
≠≠v w
if
ÆÆ 
(
ÆÆ 
entity
ÆÆ 
==
ÆÆ 
null
ÆÆ 
)
ÆÆ 
return
ÆÆ  &
null
ÆÆ' +
;
ÆÆ+ ,
entity
∞∞ 
.
∞∞ 
	MahalleId
∞∞ 
=
∞∞ 
dto
∞∞ "
.
∞∞" #
	MahalleId
∞∞# ,
;
∞∞, -
entity
±± 
.
±± 
Ada
±± 
=
±± 
dto
±± 
.
±± 
Ada
±±  
;
±±  !
entity
≤≤ 
.
≤≤ 
Parsel
≤≤ 
=
≤≤ 
dto
≤≤ 
.
≤≤  
Parsel
≤≤  &
;
≤≤& '
entity
≥≥ 
.
≥≥ 
Nitelik
≥≥ 
=
≥≥ 
Enum
≥≥ !
.
≥≥! "
Parse
≥≥" '
<
≥≥' (
Nitelik
≥≥( /
>
≥≥/ 0
(
≥≥0 1
dto
≥≥1 4
.
≥≥4 5
Nitelik
≥≥5 <
)
≥≥< =
;
≥≥= >
entity
¥¥ 
.
¥¥  
KoordinatBilgileri
¥¥ %
=
¥¥& '
dto
¥¥( +
.
¥¥+ , 
KoordinatBilgileri
¥¥, >
;
¥¥> ?
await
∂∂ 
_context
∂∂ 
.
∂∂ 
SaveChangesAsync
∂∂ +
(
∂∂+ ,
)
∂∂, -
;
∂∂- .
await
ππ 
_logService
ππ 
.
ππ 
AddAsync
ππ &
(
ππ& '
new
ππ' *
LogDto
ππ+ 1
{
∫∫ 
UserId
ªª 
=
ªª 
userId
ªª 
,
ªª  
Durum
ºº 
=
ºº 
$str
ºº "
,
ºº" #
	IslemTipi
ΩΩ 
=
ΩΩ 
$str
ΩΩ (
,
ΩΩ( )
Aciklama
ææ 
=
ææ 
$"
ææ 
$str
ææ 3
{
ææ3 4
id
ææ4 6
}
ææ6 7
"
ææ7 8
,
ææ8 9
Tarih
øø 
=
øø 
DateTime
øø  
.
øø  !
UtcNow
øø! '
,
øø' (
Saat
¿¿ 
=
¿¿ 
DateTime
¿¿ 
.
¿¿  
UtcNow
¿¿  &
.
¿¿& '
	TimeOfDay
¿¿' 0
}
¡¡ 
)
¡¡ 
;
¡¡ 
return
√√ 
new
√√ 
TasinmazDto
√√ "
{
ƒƒ 

TasinmazId
≈≈ 
=
≈≈ 
entity
≈≈ #
.
≈≈# $

TasinmazId
≈≈$ .
,
≈≈. /
	MahalleId
∆∆ 
=
∆∆ 
entity
∆∆ "
.
∆∆" #
	MahalleId
∆∆# ,
,
∆∆, -
Ada
«« 
=
«« 
entity
«« 
.
«« 
Ada
««  
,
««  !
Parsel
»» 
=
»» 
entity
»» 
.
»»  
Parsel
»»  &
,
»»& '
Nitelik
…… 
=
…… 
entity
……  
.
……  !
Nitelik
……! (
.
……( )
ToString
……) 1
(
……1 2
)
……2 3
,
……3 4 
KoordinatBilgileri
   "
=
  # $
entity
  % +
.
  + , 
KoordinatBilgileri
  , >
}
ÀÀ 
;
ÀÀ 
}
ÃÃ 	
public
ŒŒ 
async
ŒŒ 
Task
ŒŒ 
<
ŒŒ 
TasinmazDto
ŒŒ %
?
ŒŒ% &
>
ŒŒ& '
UpdateAsync
ŒŒ( 3
(
ŒŒ3 4
int
ŒŒ4 7
id
ŒŒ8 :
,
ŒŒ: ;
TasinmazDto
ŒŒ< G
dto
ŒŒH K
,
ŒŒK L
int
ŒŒM P
userId
ŒŒQ W
,
ŒŒW X
bool
ŒŒY ]
isAdmin
ŒŒ^ e
)
ŒŒe f
{
œœ 	
Tasinmaz
–– 
?
–– 
entity
–– 
;
–– 
if
—— 
(
—— 
isAdmin
—— 
)
—— 
entity
““ 
=
““ 
await
““ 
_context
““ '
.
““' (
Tasinmazlar
““( 3
.
““3 4!
FirstOrDefaultAsync
““4 G
(
““G H
t
““H I
=>
““J L
t
““M N
.
““N O

TasinmazId
““O Y
==
““Z \
id
““] _
)
““_ `
;
““` a
else
”” 
entity
‘‘ 
=
‘‘ 
await
‘‘ 
_context
‘‘ '
.
‘‘' (
Tasinmazlar
‘‘( 3
.
‘‘3 4!
FirstOrDefaultAsync
‘‘4 G
(
‘‘G H
t
‘‘H I
=>
‘‘J L
t
‘‘M N
.
‘‘N O

TasinmazId
‘‘O Y
==
‘‘Z \
id
‘‘] _
&&
‘‘` b
t
‘‘c d
.
‘‘d e
UserId
‘‘e k
==
‘‘l n
userId
‘‘o u
)
‘‘u v
;
‘‘v w
if
÷÷ 
(
÷÷ 
entity
÷÷ 
==
÷÷ 
null
÷÷ 
)
÷÷ 
return
÷÷  &
null
÷÷' +
;
÷÷+ ,
entity
ÿÿ 
.
ÿÿ 
	MahalleId
ÿÿ 
=
ÿÿ 
dto
ÿÿ "
.
ÿÿ" #
	MahalleId
ÿÿ# ,
;
ÿÿ, -
entity
ŸŸ 
.
ŸŸ 
Ada
ŸŸ 
=
ŸŸ 
dto
ŸŸ 
.
ŸŸ 
Ada
ŸŸ  
;
ŸŸ  !
entity
⁄⁄ 
.
⁄⁄ 
Parsel
⁄⁄ 
=
⁄⁄ 
dto
⁄⁄ 
.
⁄⁄  
Parsel
⁄⁄  &
;
⁄⁄& '
entity
€€ 
.
€€ 
Nitelik
€€ 
=
€€ 
Enum
€€ !
.
€€! "
Parse
€€" '
<
€€' (
Nitelik
€€( /
>
€€/ 0
(
€€0 1
dto
€€1 4
.
€€4 5
Nitelik
€€5 <
)
€€< =
;
€€= >
entity
‹‹ 
.
‹‹  
KoordinatBilgileri
‹‹ %
=
‹‹& '
dto
‹‹( +
.
‹‹+ , 
KoordinatBilgileri
‹‹, >
;
‹‹> ?
await
ﬁﬁ 
_context
ﬁﬁ 
.
ﬁﬁ 
SaveChangesAsync
ﬁﬁ +
(
ﬁﬁ+ ,
)
ﬁﬁ, -
;
ﬁﬁ- .
await
·· 
_logService
·· 
.
·· 
AddAsync
·· &
(
··& '
new
··' *
LogDto
··+ 1
{
‚‚ 
UserId
„„ 
=
„„ 
userId
„„ 
,
„„  
Durum
‰‰ 
=
‰‰ 
$str
‰‰ "
,
‰‰" #
	IslemTipi
ÂÂ 
=
ÂÂ 
$str
ÂÂ (
,
ÂÂ( )
Aciklama
ÊÊ 
=
ÊÊ 
$"
ÊÊ 
$str
ÊÊ 3
{
ÊÊ3 4
id
ÊÊ4 6
}
ÊÊ6 7
"
ÊÊ7 8
,
ÊÊ8 9
Tarih
ÁÁ 
=
ÁÁ 
DateTime
ÁÁ  
.
ÁÁ  !
UtcNow
ÁÁ! '
,
ÁÁ' (
Saat
ËË 
=
ËË 
DateTime
ËË 
.
ËË  
UtcNow
ËË  &
.
ËË& '
	TimeOfDay
ËË' 0
}
ÈÈ 
)
ÈÈ 
;
ÈÈ 
return
ÎÎ 
new
ÎÎ 
TasinmazDto
ÎÎ "
{
ÏÏ 

TasinmazId
ÌÌ 
=
ÌÌ 
entity
ÌÌ #
.
ÌÌ# $

TasinmazId
ÌÌ$ .
,
ÌÌ. /
	MahalleId
ÓÓ 
=
ÓÓ 
entity
ÓÓ "
.
ÓÓ" #
	MahalleId
ÓÓ# ,
,
ÓÓ, -
Ada
ÔÔ 
=
ÔÔ 
entity
ÔÔ 
.
ÔÔ 
Ada
ÔÔ  
,
ÔÔ  !
Parsel
 
=
 
entity
 
.
  
Parsel
  &
,
& '
Nitelik
ÒÒ 
=
ÒÒ 
entity
ÒÒ  
.
ÒÒ  !
Nitelik
ÒÒ! (
.
ÒÒ( )
ToString
ÒÒ) 1
(
ÒÒ1 2
)
ÒÒ2 3
,
ÒÒ3 4 
KoordinatBilgileri
ÚÚ "
=
ÚÚ# $
entity
ÚÚ% +
.
ÚÚ+ , 
KoordinatBilgileri
ÚÚ, >
}
ÛÛ 
;
ÛÛ 
}
ÙÙ 	
public
ˆˆ 
async
ˆˆ 
Task
ˆˆ 
<
ˆˆ 
List
ˆˆ 
<
ˆˆ 
TasinmazDto
ˆˆ *
>
ˆˆ* +
>
ˆˆ+ ,
FilterAsync
ˆˆ- 8
(
ˆˆ8 9
TasinmazFilterDto
ˆˆ9 J
filter
ˆˆK Q
)
ˆˆQ R
{
˜˜ 	
var
¯¯ 
query
¯¯ 
=
¯¯ 
_context
¯¯  
.
¯¯  !
Tasinmazlar
¯¯! ,
.
¯¯, -
AsQueryable
¯¯- 8
(
¯¯8 9
)
¯¯9 :
;
¯¯: ;
if
˙˙ 
(
˙˙ 
filter
˙˙ 
.
˙˙ 
	MahalleId
˙˙  
.
˙˙  !
HasValue
˙˙! )
)
˙˙) *
query
˚˚ 
=
˚˚ 
query
˚˚ 
.
˚˚ 
Where
˚˚ #
(
˚˚# $
t
˚˚$ %
=>
˚˚& (
t
˚˚) *
.
˚˚* +
	MahalleId
˚˚+ 4
==
˚˚5 7
filter
˚˚8 >
.
˚˚> ?
	MahalleId
˚˚? H
.
˚˚H I
Value
˚˚I N
)
˚˚N O
;
˚˚O P
if
¸¸ 
(
¸¸ 
filter
¸¸ 
.
¸¸ 
Ada
¸¸ 
.
¸¸ 
HasValue
¸¸ #
)
¸¸# $
query
˝˝ 
=
˝˝ 
query
˝˝ 
.
˝˝ 
Where
˝˝ #
(
˝˝# $
t
˝˝$ %
=>
˝˝& (
t
˝˝) *
.
˝˝* +
Ada
˝˝+ .
==
˝˝/ 1
filter
˝˝2 8
.
˝˝8 9
Ada
˝˝9 <
.
˝˝< =
Value
˝˝= B
)
˝˝B C
;
˝˝C D
if
˛˛ 
(
˛˛ 
filter
˛˛ 
.
˛˛ 
Parsel
˛˛ 
.
˛˛ 
HasValue
˛˛ &
)
˛˛& '
query
ˇˇ 
=
ˇˇ 
query
ˇˇ 
.
ˇˇ 
Where
ˇˇ #
(
ˇˇ# $
t
ˇˇ$ %
=>
ˇˇ& (
t
ˇˇ) *
.
ˇˇ* +
Parsel
ˇˇ+ 1
==
ˇˇ2 4
filter
ˇˇ5 ;
.
ˇˇ; <
Parsel
ˇˇ< B
.
ˇˇB C
Value
ˇˇC H
)
ˇˇH I
;
ˇˇI J
if
ÄÄ 
(
ÄÄ 
!
ÄÄ 
string
ÄÄ 
.
ÄÄ 
IsNullOrEmpty
ÄÄ %
(
ÄÄ% &
filter
ÄÄ& ,
.
ÄÄ, -
Nitelik
ÄÄ- 4
)
ÄÄ4 5
)
ÄÄ5 6
query
ÅÅ 
=
ÅÅ 
query
ÅÅ 
.
ÅÅ 
Where
ÅÅ #
(
ÅÅ# $
t
ÅÅ$ %
=>
ÅÅ& (
t
ÅÅ) *
.
ÅÅ* +
Nitelik
ÅÅ+ 2
.
ÅÅ2 3
ToString
ÅÅ3 ;
(
ÅÅ; <
)
ÅÅ< =
.
ÅÅ= >
Contains
ÅÅ> F
(
ÅÅF G
filter
ÅÅG M
.
ÅÅM N
Nitelik
ÅÅN U
)
ÅÅU V
)
ÅÅV W
;
ÅÅW X
if
ÇÇ 
(
ÇÇ 
filter
ÇÇ 
.
ÇÇ 
UserId
ÇÇ 
.
ÇÇ 
HasValue
ÇÇ &
)
ÇÇ& '
query
ÉÉ 
=
ÉÉ 
query
ÉÉ 
.
ÉÉ 
Where
ÉÉ #
(
ÉÉ# $
t
ÉÉ$ %
=>
ÉÉ& (
t
ÉÉ) *
.
ÉÉ* +
UserId
ÉÉ+ 1
==
ÉÉ2 4
filter
ÉÉ5 ;
.
ÉÉ; <
UserId
ÉÉ< B
.
ÉÉB C
Value
ÉÉC H
)
ÉÉH I
;
ÉÉI J
return
ÖÖ 
await
ÖÖ 
query
ÖÖ 
.
ÜÜ 
Select
ÜÜ 
(
ÜÜ 
t
ÜÜ 
=>
ÜÜ 
new
ÜÜ  
TasinmazDto
ÜÜ! ,
{
áá 

TasinmazId
àà 
=
àà  
t
àà! "
.
àà" #

TasinmazId
àà# -
,
àà- .
	MahalleId
ââ 
=
ââ 
t
ââ  !
.
ââ! "
	MahalleId
ââ" +
,
ââ+ ,
Ada
ää 
=
ää 
t
ää 
.
ää 
Ada
ää 
,
ää  
Parsel
ãã 
=
ãã 
t
ãã 
.
ãã 
Parsel
ãã %
,
ãã% &
Nitelik
åå 
=
åå 
t
åå 
.
åå  
Nitelik
åå  '
.
åå' (
ToString
åå( 0
(
åå0 1
)
åå1 2
,
åå2 3 
KoordinatBilgileri
çç &
=
çç' (
t
çç) *
.
çç* + 
KoordinatBilgileri
çç+ =
}
éé 
)
éé 
.
èè 
ToListAsync
èè 
(
èè 
)
èè 
;
èè 
}
êê 	
public
íí 
async
íí 
Task
íí 
<
íí 
byte
íí 
[
íí 
]
íí  
>
íí  ! 
ExportToExcelAsync
íí" 4
(
íí4 5
TasinmazFilterDto
íí5 F
filter
ííG M
)
ííM N
{
ìì 	
var
îî 
tasinmazlar
îî 
=
îî 
await
îî #
FilterAsync
îî$ /
(
îî/ 0
filter
îî0 6
)
îî6 7
;
îî7 8
using
ññ 
var
ññ 
package
ññ 
=
ññ 
new
ññ  #
ExcelPackage
ññ$ 0
(
ññ0 1
)
ññ1 2
;
ññ2 3
var
óó 
	worksheet
óó 
=
óó 
package
óó #
.
óó# $
Workbook
óó$ ,
.
óó, -

Worksheets
óó- 7
.
óó7 8
Add
óó8 ;
(
óó; <
$str
óó< I
)
óóI J
;
óóJ K
	worksheet
öö 
.
öö 
Cells
öö 
[
öö 
$num
öö 
,
öö 
$num
öö  
]
öö  !
.
öö! "
Value
öö" '
=
öö( )
$str
öö* 6
;
öö6 7
	worksheet
õõ 
.
õõ 
Cells
õõ 
[
õõ 
$num
õõ 
,
õõ 
$num
õõ  
]
õõ  !
.
õõ! "
Value
õõ" '
=
õõ( )
$str
õõ* 5
;
õõ5 6
	worksheet
úú 
.
úú 
Cells
úú 
[
úú 
$num
úú 
,
úú 
$num
úú  
]
úú  !
.
úú! "
Value
úú" '
=
úú( )
$str
úú* /
;
úú/ 0
	worksheet
ùù 
.
ùù 
Cells
ùù 
[
ùù 
$num
ùù 
,
ùù 
$num
ùù  
]
ùù  !
.
ùù! "
Value
ùù" '
=
ùù( )
$str
ùù* 2
;
ùù2 3
	worksheet
ûû 
.
ûû 
Cells
ûû 
[
ûû 
$num
ûû 
,
ûû 
$num
ûû  
]
ûû  !
.
ûû! "
Value
ûû" '
=
ûû( )
$str
ûû* 3
;
ûû3 4
	worksheet
üü 
.
üü 
Cells
üü 
[
üü 
$num
üü 
,
üü 
$num
üü  
]
üü  !
.
üü! "
Value
üü" '
=
üü( )
$str
üü* >
;
üü> ?
for
¢¢ 
(
¢¢ 
int
¢¢ 
i
¢¢ 
=
¢¢ 
$num
¢¢ 
;
¢¢ 
i
¢¢ 
<
¢¢ 
tasinmazlar
¢¢  +
.
¢¢+ ,
Count
¢¢, 1
;
¢¢1 2
i
¢¢3 4
++
¢¢4 6
)
¢¢6 7
{
££ 
var
§§ 
t
§§ 
=
§§ 
tasinmazlar
§§ #
[
§§# $
i
§§$ %
]
§§% &
;
§§& '
	worksheet
•• 
.
•• 
Cells
•• 
[
••  
i
••  !
+
••" #
$num
••$ %
,
••% &
$num
••' (
]
••( )
.
••) *
Value
••* /
=
••0 1
t
••2 3
.
••3 4

TasinmazId
••4 >
;
••> ?
	worksheet
¶¶ 
.
¶¶ 
Cells
¶¶ 
[
¶¶  
i
¶¶  !
+
¶¶" #
$num
¶¶$ %
,
¶¶% &
$num
¶¶' (
]
¶¶( )
.
¶¶) *
Value
¶¶* /
=
¶¶0 1
t
¶¶2 3
.
¶¶3 4
	MahalleId
¶¶4 =
;
¶¶= >
	worksheet
ßß 
.
ßß 
Cells
ßß 
[
ßß  
i
ßß  !
+
ßß" #
$num
ßß$ %
,
ßß% &
$num
ßß' (
]
ßß( )
.
ßß) *
Value
ßß* /
=
ßß0 1
t
ßß2 3
.
ßß3 4
Ada
ßß4 7
;
ßß7 8
	worksheet
®® 
.
®® 
Cells
®® 
[
®®  
i
®®  !
+
®®" #
$num
®®$ %
,
®®% &
$num
®®' (
]
®®( )
.
®®) *
Value
®®* /
=
®®0 1
t
®®2 3
.
®®3 4
Parsel
®®4 :
;
®®: ;
	worksheet
©© 
.
©© 
Cells
©© 
[
©©  
i
©©  !
+
©©" #
$num
©©$ %
,
©©% &
$num
©©' (
]
©©( )
.
©©) *
Value
©©* /
=
©©0 1
t
©©2 3
.
©©3 4
Nitelik
©©4 ;
;
©©; <
	worksheet
™™ 
.
™™ 
Cells
™™ 
[
™™  
i
™™  !
+
™™" #
$num
™™$ %
,
™™% &
$num
™™' (
]
™™( )
.
™™) *
Value
™™* /
=
™™0 1
t
™™2 3
.
™™3 4 
KoordinatBilgileri
™™4 F
;
™™F G
}
´´ 
return
≠≠ 
package
≠≠ 
.
≠≠ 
GetAsByteArray
≠≠ )
(
≠≠) *
)
≠≠* +
;
≠≠+ ,
}
ÆÆ 	
public
∞∞ 
async
∞∞ 
Task
∞∞ 
<
∞∞ 
byte
∞∞ 
[
∞∞ 
]
∞∞  
>
∞∞  !
ExportToPdfAsync
∞∞" 2
(
∞∞2 3
TasinmazFilterDto
∞∞3 D
filter
∞∞E K
)
∞∞K L
{
±± 	
var
≤≤ 
tasinmazlar
≤≤ 
=
≤≤ 
await
≤≤ #
FilterAsync
≤≤$ /
(
≤≤/ 0
filter
≤≤0 6
)
≤≤6 7
;
≤≤7 8
using
¥¥ 
var
¥¥ 
stream
¥¥ 
=
¥¥ 
new
¥¥ "
MemoryStream
¥¥# /
(
¥¥/ 0
)
¥¥0 1
;
¥¥1 2
var
µµ 
document
µµ 
=
µµ 
new
µµ 
PdfDocument
µµ *
(
µµ* +
)
µµ+ ,
;
µµ, -
var
∂∂ 
page
∂∂ 
=
∂∂ 
document
∂∂ 
.
∂∂  
AddPage
∂∂  '
(
∂∂' (
)
∂∂( )
;
∂∂) *
var
∑∑ 
gfx
∑∑ 
=
∑∑ 
	XGraphics
∑∑ 
.
∑∑  
FromPdfPage
∑∑  +
(
∑∑+ ,
page
∑∑, 0
)
∑∑0 1
;
∑∑1 2
var
∏∏ 
font
∏∏ 
=
∏∏ 
new
∏∏ 
XFont
∏∏  
(
∏∏  !
$str
∏∏! (
,
∏∏( )
$num
∏∏* ,
,
∏∏, -

XFontStyle
∏∏. 8
.
∏∏8 9
Regular
∏∏9 @
)
∏∏@ A
;
∏∏A B
double
∫∫ 
y
∫∫ 
=
∫∫ 
$num
∫∫ 
;
∫∫ 
gfx
ªª 
.
ªª 

DrawString
ªª 
(
ªª 
$str
ªª a
,
ªªa b
font
ªªc g
,
ªªg h
XBrushes
ªªi q
.
ªªq r
Black
ªªr w
,
ªªw x
new
ªªy |
XRectªª} Ç
(ªªÇ É
$numªªÉ Ö
,ªªÖ Ü
yªªá à
,ªªà â
pageªªä é
.ªªé è
Widthªªè î
,ªªî ï
pageªªñ ö
.ªªö õ
Heightªªõ °
)ªª° ¢
,ªª¢ £
XStringFormatsªª§ ≤
.ªª≤ ≥
TopLeftªª≥ ∫
)ªª∫ ª
;ªªª º
y
ºº 
+=
ºº 
$num
ºº 
;
ºº 
foreach
ææ 
(
ææ 
var
ææ 
t
ææ 
in
ææ 
tasinmazlar
ææ )
)
ææ) *
{
øø 
string
¿¿ 
line
¿¿ 
=
¿¿ 
$"
¿¿  
{
¿¿  !
t
¿¿! "
.
¿¿" #

TasinmazId
¿¿# -
}
¿¿- .
$str
¿¿. 1
{
¿¿1 2
t
¿¿2 3
.
¿¿3 4
	MahalleId
¿¿4 =
}
¿¿= >
$str
¿¿> A
{
¿¿A B
t
¿¿B C
.
¿¿C D
Ada
¿¿D G
}
¿¿G H
$str
¿¿H K
{
¿¿K L
t
¿¿L M
.
¿¿M N
Parsel
¿¿N T
}
¿¿T U
$str
¿¿U X
{
¿¿X Y
t
¿¿Y Z
.
¿¿Z [
Nitelik
¿¿[ b
}
¿¿b c
$str
¿¿c f
{
¿¿f g
t
¿¿g h
.
¿¿h i 
KoordinatBilgileri
¿¿i {
}
¿¿{ |
"
¿¿| }
;
¿¿} ~
gfx
¡¡ 
.
¡¡ 

DrawString
¡¡ 
(
¡¡ 
line
¡¡ #
,
¡¡# $
font
¡¡% )
,
¡¡) *
XBrushes
¡¡+ 3
.
¡¡3 4
Black
¡¡4 9
,
¡¡9 :
new
¡¡; >
XRect
¡¡? D
(
¡¡D E
$num
¡¡E G
,
¡¡G H
y
¡¡I J
,
¡¡J K
page
¡¡L P
.
¡¡P Q
Width
¡¡Q V
,
¡¡V W
page
¡¡X \
.
¡¡\ ]
Height
¡¡] c
)
¡¡c d
,
¡¡d e
XStringFormats
¡¡f t
.
¡¡t u
TopLeft
¡¡u |
)
¡¡| }
;
¡¡} ~
y
¬¬ 
+=
¬¬ 
$num
¬¬ 
;
¬¬ 
if
√√ 
(
√√ 
y
√√ 
>
√√ 
page
√√ 
.
√√ 
Height
√√ #
-
√√$ %
$num
√√& (
)
√√( )
{
ƒƒ 
page
≈≈ 
=
≈≈ 
document
≈≈ #
.
≈≈# $
AddPage
≈≈$ +
(
≈≈+ ,
)
≈≈, -
;
≈≈- .
gfx
∆∆ 
=
∆∆ 
	XGraphics
∆∆ #
.
∆∆# $
FromPdfPage
∆∆$ /
(
∆∆/ 0
page
∆∆0 4
)
∆∆4 5
;
∆∆5 6
y
«« 
=
«« 
$num
«« 
;
«« 
}
»» 
}
…… 
document
ÀÀ 
.
ÀÀ 
Save
ÀÀ 
(
ÀÀ 
stream
ÀÀ  
,
ÀÀ  !
false
ÀÀ" '
)
ÀÀ' (
;
ÀÀ( )
return
ÃÃ 
stream
ÃÃ 
.
ÃÃ 
ToArray
ÃÃ !
(
ÃÃ! "
)
ÃÃ" #
;
ÃÃ# $
}
ÕÕ 	
}
ŒŒ 
}œœ õ
aC:\Users\JAMUMU\Desktop\ASP.NET WEB(FM)\TASINMAZ\tasinmazback\TASINMAZ\Services\MahalleService.cs
	namespace		 	
TASINMAZ		
 
.		 
Services		 
{

 
public 

class 
MahalleService 
:  !
IMahalleService" 1
{ 
private 
readonly 
AppDbContext %
_context& .
;. /
public 
MahalleService 
( 
AppDbContext *
context+ 2
)2 3
{ 	
_context 
= 
context 
; 
} 	
public 
async 
Task 
< 
List 
< 

MahalleDto )
>) *
>* +
GetAllAsync, 7
(7 8
)8 9
{ 	
return 
await 
_context !
.! "

Mahalleler" ,
. 
Select 
( 
m 
=> 
new  

MahalleDto! +
{ 
	MahalleId 
= 
m  !
.! "
	MahalleId" +
,+ ,
Name 
= 
m 
. 
Name !
,! "
IlceId 
= 
m 
. 
IlceId %
} 
) 
. 
ToListAsync 
( 
) 
; 
} 	
} 
}   Âª
]C:\Users\JAMUMU\Desktop\ASP.NET WEB(FM)\TASINMAZ\tasinmazback\TASINMAZ\Services\LogService.cs
	namespace 	
TASINMAZ
 
. 
Services 
{ 
public 

class 

LogService 
: 
ILogService )
{ 
private 
readonly 
AppDbContext %
_context& .
;. /
public 

LogService 
( 
AppDbContext &
context' .
). /
{ 	
_context 
= 
context 
; 
} 	
public 
async 
Task 
< 
List 
< 
LogDto %
>% &
>& '
GetAllAsync( 3
(3 4
)4 5
{ 	
return 
await 
_context !
.! "
Logs" &
. 
Select 
( 
log 
=> 
new "
LogDto# )
{ 
LogId 
= 
log 
.  
LogId  %
,% &
UserId   
=   
log    
.    !
UserId  ! '
,  ' (
Durum!! 
=!! 
log!! 
.!!  
Durum!!  %
,!!% &
	IslemTipi"" 
="" 
log""  #
.""# $
	IslemTipi""$ -
,""- .
Aciklama## 
=## 
log## "
.##" #
Aciklama### +
,##+ ,
Tarih$$ 
=$$ 
log$$ 
.$$  
Tarih$$  %
,$$% &
Saat%% 
=%% 
log%% 
.%% 
Saat%% #
}&& 
)&& 
.'' 
ToListAsync'' 
('' 
)'' 
;'' 
}(( 	
public** 
async** 
Task** 
AddAsync** "
(**" #
LogDto**# )
logDto*** 0
)**0 1
{++ 	
var,, 
user,, 
=,, 
await,, 
_context,, %
.,,% &
Users,,& +
.,,+ ,
	FindAsync,,, 5
(,,5 6
logDto,,6 <
.,,< =
UserId,,= C
),,C D
;,,D E
var-- 
log-- 
=-- 
new-- 
Log-- 
{.. 
UserId// 
=// 
logDto// 
.//  
UserId//  &
,//& '
Durum00 
=00 
logDto00 
.00 
Durum00 $
,00$ %
	IslemTipi11 
=11 
logDto11 "
.11" #
	IslemTipi11# ,
,11, -
Aciklama22 
=22 
logDto22 !
.22! "
Aciklama22" *
,22* +
Tarih33 
=33 
logDto33 
.33 
Tarih33 $
,33$ %
Saat44 
=44 
logDto44 
.44 
Saat44 "
}55 
;55 
_context66 
.66 
Logs66 
.66 
Add66 
(66 
log66 !
)66! "
;66" #
await77 
_context77 
.77 
SaveChangesAsync77 +
(77+ ,
)77, -
;77- .
}88 	
public:: 
async:: 
Task:: 
<:: 
List:: 
<:: 
LogDto:: %
>::% &
>::& '
FilterAsync::( 3
(::3 4
LogFilterDto::4 @
filter::A G
)::G H
{;; 	
var<< 
query<< 
=<< 
_context<<  
.<<  !
Logs<<! %
.<<% &
AsQueryable<<& 1
(<<1 2
)<<2 3
;<<3 4
if>> 
(>> 
filter>> 
.>> 
UserId>> 
.>> 
HasValue>> &
)>>& '
query?? 
=?? 
query?? 
.?? 
Where?? #
(??# $
l??$ %
=>??& (
l??) *
.??* +
UserId??+ 1
==??2 4
filter??5 ;
.??; <
UserId??< B
.??B C
Value??C H
)??H I
;??I J
if@@ 
(@@ 
!@@ 
string@@ 
.@@ 
IsNullOrEmpty@@ %
(@@% &
filter@@& ,
.@@, -
Durum@@- 2
)@@2 3
)@@3 4
queryAA 
=AA 
queryAA 
.AA 
WhereAA #
(AA# $
lAA$ %
=>AA& (
lAA) *
.AA* +
DurumAA+ 0
.AA0 1
ContainsAA1 9
(AA9 :
filterAA: @
.AA@ A
DurumAAA F
)AAF G
)AAG H
;AAH I
ifBB 
(BB 
!BB 
stringBB 
.BB 
IsNullOrEmptyBB %
(BB% &
filterBB& ,
.BB, -
	IslemTipiBB- 6
)BB6 7
)BB7 8
queryCC 
=CC 
queryCC 
.CC 
WhereCC #
(CC# $
lCC$ %
=>CC& (
lCC) *
.CC* +
	IslemTipiCC+ 4
.CC4 5
ContainsCC5 =
(CC= >
filterCC> D
.CCD E
	IslemTipiCCE N
)CCN O
)CCO P
;CCP Q
ifDD 
(DD 
!DD 
stringDD 
.DD 
IsNullOrEmptyDD %
(DD% &
filterDD& ,
.DD, -
AciklamaDD- 5
)DD5 6
)DD6 7
queryEE 
=EE 
queryEE 
.EE 
WhereEE #
(EE# $
lEE$ %
=>EE& (
lEE) *
.EE* +
AciklamaEE+ 3
.EE3 4
ContainsEE4 <
(EE< =
filterEE= C
.EEC D
AciklamaEED L
)EEL M
)EEM N
;EEN O
ifFF 
(FF 
filterFF 
.FF 
TarihBaslangicFF %
.FF% &
HasValueFF& .
)FF. /
queryGG 
=GG 
queryGG 
.GG 
WhereGG #
(GG# $
lGG$ %
=>GG& (
lGG) *
.GG* +
TarihGG+ 0
>=GG1 3
filterGG4 :
.GG: ;
TarihBaslangicGG; I
.GGI J
ValueGGJ O
)GGO P
;GGP Q
ifHH 
(HH 
filterHH 
.HH 

TarihBitisHH !
.HH! "
HasValueHH" *
)HH* +
queryII 
=II 
queryII 
.II 
WhereII #
(II# $
lII$ %
=>II& (
lII) *
.II* +
TarihII+ 0
<=II1 3
filterII4 :
.II: ;

TarihBitisII; E
.IIE F
ValueIIF K
)IIK L
;IIL M
returnKK 
awaitKK 
queryKK 
.LL 
SelectLL 
(LL 
logLL 
=>LL 
newLL "
LogDtoLL# )
{MM 
LogIdNN 
=NN 
logNN 
.NN  
LogIdNN  %
,NN% &
UserIdOO 
=OO 
logOO  
.OO  !
UserIdOO! '
,OO' (
DurumPP 
=PP 
logPP 
.PP  
DurumPP  %
,PP% &
	IslemTipiQQ 
=QQ 
logQQ  #
.QQ# $
	IslemTipiQQ$ -
,QQ- .
AciklamaRR 
=RR 
logRR "
.RR" #
AciklamaRR# +
,RR+ ,
TarihSS 
=SS 
logSS 
.SS  
TarihSS  %
,SS% &
SaatTT 
=TT 
logTT 
.TT 
SaatTT #
}UU 
)UU 
.VV 
ToListAsyncVV 
(VV 
)VV 
;VV 
}WW 	
publicYY 
asyncYY 
TaskYY 
<YY 
byteYY 
[YY 
]YY  
>YY  !
ExportToExcelAsyncYY" 4
(YY4 5
LogFilterDtoYY5 A
filterYYB H
)YYH I
{ZZ 	
var[[ 
logs[[ 
=[[ 
await[[ 
FilterAsync[[ (
([[( )
filter[[) /
)[[/ 0
;[[0 1
using]] 
var]] 
package]] 
=]] 
new]]  #
ExcelPackage]]$ 0
(]]0 1
)]]1 2
;]]2 3
var^^ 
	worksheet^^ 
=^^ 
package^^ #
.^^# $
Workbook^^$ ,
.^^, -

Worksheets^^- 7
.^^7 8
Add^^8 ;
(^^; <
$str^^< B
)^^B C
;^^C D
	worksheetaa 
.aa 
Cellsaa 
[aa 
$numaa 
,aa 
$numaa  
]aa  !
.aa! "
Valueaa" '
=aa( )
$straa* 1
;aa1 2
	worksheetbb 
.bb 
Cellsbb 
[bb 
$numbb 
,bb 
$numbb  
]bb  !
.bb! "
Valuebb" '
=bb( )
$strbb* 2
;bb2 3
	worksheetcc 
.cc 
Cellscc 
[cc 
$numcc 
,cc 
$numcc  
]cc  !
.cc! "
Valuecc" '
=cc( )
$strcc* 1
;cc1 2
	worksheetdd 
.dd 
Cellsdd 
[dd 
$numdd 
,dd 
$numdd  
]dd  !
.dd! "
Valuedd" '
=dd( )
$strdd* 5
;dd5 6
	worksheetee 
.ee 
Cellsee 
[ee 
$numee 
,ee 
$numee  
]ee  !
.ee! "
Valueee" '
=ee( )
$stree* 4
;ee4 5
	worksheetff 
.ff 
Cellsff 
[ff 
$numff 
,ff 
$numff  
]ff  !
.ff! "
Valueff" '
=ff( )
$strff* 1
;ff1 2
	worksheetgg 
.gg 
Cellsgg 
[gg 
$numgg 
,gg 
$numgg  
]gg  !
.gg! "
Valuegg" '
=gg( )
$strgg* 0
;gg0 1
forjj 
(jj 
intjj 
ijj 
=jj 
$numjj 
;jj 
ijj 
<jj 
logsjj  $
.jj$ %
Countjj% *
;jj* +
ijj, -
++jj- /
)jj/ 0
{kk 
varll 
logll 
=ll 
logsll 
[ll 
ill  
]ll  !
;ll! "
	worksheetmm 
.mm 
Cellsmm 
[mm  
imm  !
+mm" #
$nummm$ %
,mm% &
$nummm' (
]mm( )
.mm) *
Valuemm* /
=mm0 1
logmm2 5
.mm5 6
LogIdmm6 ;
;mm; <
	worksheetnn 
.nn 
Cellsnn 
[nn  
inn  !
+nn" #
$numnn$ %
,nn% &
$numnn' (
]nn( )
.nn) *
Valuenn* /
=nn0 1
lognn2 5
.nn5 6
UserIdnn6 <
;nn< =
	worksheetoo 
.oo 
Cellsoo 
[oo  
ioo  !
+oo" #
$numoo$ %
,oo% &
$numoo' (
]oo( )
.oo) *
Valueoo* /
=oo0 1
logoo2 5
.oo5 6
Durumoo6 ;
;oo; <
	worksheetpp 
.pp 
Cellspp 
[pp  
ipp  !
+pp" #
$numpp$ %
,pp% &
$numpp' (
]pp( )
.pp) *
Valuepp* /
=pp0 1
logpp2 5
.pp5 6
	IslemTipipp6 ?
;pp? @
	worksheetqq 
.qq 
Cellsqq 
[qq  
iqq  !
+qq" #
$numqq$ %
,qq% &
$numqq' (
]qq( )
.qq) *
Valueqq* /
=qq0 1
logqq2 5
.qq5 6
Aciklamaqq6 >
;qq> ?
	worksheetrr 
.rr 
Cellsrr 
[rr  
irr  !
+rr" #
$numrr$ %
,rr% &
$numrr' (
]rr( )
.rr) *
Valuerr* /
=rr0 1
logrr2 5
.rr5 6
Tarihrr6 ;
.rr; <
ToStringrr< D
(rrD E
$strrrE Z
)rrZ [
;rr[ \
	worksheetss 
.ss 
Cellsss 
[ss  
iss  !
+ss" #
$numss$ %
,ss% &
$numss' (
]ss( )
.ss) *
Valuess* /
=ss0 1
logss2 5
.ss5 6
Saatss6 :
.ss: ;
ToStringss; C
(ssC D
)ssD E
;ssE F
}tt 
returnvv 
packagevv 
.vv 
GetAsByteArrayvv )
(vv) *
)vv* +
;vv+ ,
}ww 	
publicyy 
asyncyy 
Taskyy 
<yy 
byteyy 
[yy 
]yy  
>yy  !
ExportToPdfAsyncyy" 2
(yy2 3
LogFilterDtoyy3 ?
filteryy@ F
)yyF G
{zz 	
var{{ 
logs{{ 
={{ 
await{{ 
FilterAsync{{ (
({{( )
filter{{) /
){{/ 0
;{{0 1
using}} 
var}} 
stream}} 
=}} 
new}} "
MemoryStream}}# /
(}}/ 0
)}}0 1
;}}1 2
var~~ 
document~~ 
=~~ 
new~~ 
PdfDocument~~ *
(~~* +
)~~+ ,
;~~, -
var 
page 
= 
document 
.  
AddPage  '
(' (
)( )
;) *
var
ÄÄ 
gfx
ÄÄ 
=
ÄÄ 
	XGraphics
ÄÄ 
.
ÄÄ  
FromPdfPage
ÄÄ  +
(
ÄÄ+ ,
page
ÄÄ, 0
)
ÄÄ0 1
;
ÄÄ1 2
var
ÅÅ 
font
ÅÅ 
=
ÅÅ 
new
ÅÅ 
XFont
ÅÅ  
(
ÅÅ  !
$str
ÅÅ! (
,
ÅÅ( )
$num
ÅÅ* ,
,
ÅÅ, -

XFontStyle
ÅÅ. 8
.
ÅÅ8 9
Regular
ÅÅ9 @
)
ÅÅ@ A
;
ÅÅA B
double
ÉÉ 
y
ÉÉ 
=
ÉÉ 
$num
ÉÉ 
;
ÉÉ 
gfx
ÑÑ 
.
ÑÑ 

DrawString
ÑÑ 
(
ÑÑ 
$str
ÑÑ Y
,
ÑÑY Z
font
ÑÑ[ _
,
ÑÑ_ `
XBrushes
ÑÑa i
.
ÑÑi j
Black
ÑÑj o
,
ÑÑo p
new
ÑÑq t
XRect
ÑÑu z
(
ÑÑz {
$num
ÑÑ{ }
,
ÑÑ} ~
yÑÑ Ä
,ÑÑÄ Å
pageÑÑÇ Ü
.ÑÑÜ á
WidthÑÑá å
,ÑÑå ç
pageÑÑé í
.ÑÑí ì
HeightÑÑì ô
)ÑÑô ö
,ÑÑö õ
XStringFormatsÑÑú ™
.ÑÑ™ ´
TopLeftÑÑ´ ≤
)ÑÑ≤ ≥
;ÑÑ≥ ¥
y
ÖÖ 
+=
ÖÖ 
$num
ÖÖ 
;
ÖÖ 
foreach
áá 
(
áá 
var
áá 
log
áá 
in
áá 
logs
áá  $
)
áá$ %
{
àà 
string
ââ 
line
ââ 
=
ââ 
$"
ââ  
{
ââ  !
log
ââ! $
.
ââ$ %
LogId
ââ% *
}
ââ* +
$str
ââ+ .
{
ââ. /
log
ââ/ 2
.
ââ2 3
UserId
ââ3 9
}
ââ9 :
$str
ââ: =
{
ââ= >
log
ââ> A
.
ââA B
Durum
ââB G
}
ââG H
$str
ââH K
{
ââK L
log
ââL O
.
ââO P
	IslemTipi
ââP Y
}
ââY Z
$str
ââZ ]
{
ââ] ^
log
ââ^ a
.
ââa b
Aciklama
ââb j
}
ââj k
$str
ââk n
{
âân o
log
ââo r
.
ââr s
Tarih
ââs x
:
ââx y
$strâây å
}ââå ç
$strââç ê
{ââê ë
logââë î
.ââî ï
Saatââï ô
}ââô ö
"ââö õ
;ââõ ú
gfx
ää 
.
ää 

DrawString
ää 
(
ää 
line
ää #
,
ää# $
font
ää% )
,
ää) *
XBrushes
ää+ 3
.
ää3 4
Black
ää4 9
,
ää9 :
new
ää; >
XRect
ää? D
(
ääD E
$num
ääE G
,
ääG H
y
ääI J
,
ääJ K
page
ääL P
.
ääP Q
Width
ääQ V
,
ääV W
page
ääX \
.
ää\ ]
Height
ää] c
)
ääc d
,
ääd e
XStringFormats
ääf t
.
äät u
TopLeft
ääu |
)
ää| }
;
ää} ~
y
ãã 
+=
ãã 
$num
ãã 
;
ãã 
if
åå 
(
åå 
y
åå 
>
åå 
page
åå 
.
åå 
Height
åå #
-
åå$ %
$num
åå& (
)
åå( )
{
çç 
page
éé 
=
éé 
document
éé #
.
éé# $
AddPage
éé$ +
(
éé+ ,
)
éé, -
;
éé- .
gfx
èè 
=
èè 
	XGraphics
èè #
.
èè# $
FromPdfPage
èè$ /
(
èè/ 0
page
èè0 4
)
èè4 5
;
èè5 6
y
êê 
=
êê 
$num
êê 
;
êê 
}
ëë 
}
íí 
document
îî 
.
îî 
Save
îî 
(
îî 
stream
îî  
,
îî  !
false
îî" '
)
îî' (
;
îî( )
return
ïï 
stream
ïï 
.
ïï 
ToArray
ïï !
(
ïï! "
)
ïï" #
;
ïï# $
}
ññ 	
public
òò 
async
òò 
Task
òò 
<
òò 
(
òò 
List
òò 
<
òò  
LogDto
òò  &
>
òò& '
Logs
òò( ,
,
òò, -
int
òò. 1

TotalCount
òò2 <
)
òò< =
>
òò= >
FilterPagedAsync
òò? O
(
òòO P
LogFilterDto
òòP \
filter
òò] c
)
òòc d
{
ôô 	
var
öö 
query
öö 
=
öö 
_context
öö  
.
öö  !
Logs
öö! %
.
öö% &
AsQueryable
öö& 1
(
öö1 2
)
öö2 3
;
öö3 4
if
úú 
(
úú 
filter
úú 
.
úú 
UserId
úú 
.
úú 
HasValue
úú &
)
úú& '
query
ùù 
=
ùù 
query
ùù 
.
ùù 
Where
ùù #
(
ùù# $
l
ùù$ %
=>
ùù& (
l
ùù) *
.
ùù* +
UserId
ùù+ 1
==
ùù2 4
filter
ùù5 ;
.
ùù; <
UserId
ùù< B
.
ùùB C
Value
ùùC H
)
ùùH I
;
ùùI J
if
ûû 
(
ûû 
!
ûû 
string
ûû 
.
ûû 
IsNullOrEmpty
ûû %
(
ûû% &
filter
ûû& ,
.
ûû, -
Durum
ûû- 2
)
ûû2 3
)
ûû3 4
query
üü 
=
üü 
query
üü 
.
üü 
Where
üü #
(
üü# $
l
üü$ %
=>
üü& (
l
üü) *
.
üü* +
Durum
üü+ 0
.
üü0 1
Contains
üü1 9
(
üü9 :
filter
üü: @
.
üü@ A
Durum
üüA F
)
üüF G
)
üüG H
;
üüH I
if
†† 
(
†† 
!
†† 
string
†† 
.
†† 
IsNullOrEmpty
†† %
(
††% &
filter
††& ,
.
††, -
	IslemTipi
††- 6
)
††6 7
)
††7 8
query
°° 
=
°° 
query
°° 
.
°° 
Where
°° #
(
°°# $
l
°°$ %
=>
°°& (
l
°°) *
.
°°* +
	IslemTipi
°°+ 4
.
°°4 5
Contains
°°5 =
(
°°= >
filter
°°> D
.
°°D E
	IslemTipi
°°E N
)
°°N O
)
°°O P
;
°°P Q
if
¢¢ 
(
¢¢ 
!
¢¢ 
string
¢¢ 
.
¢¢ 
IsNullOrEmpty
¢¢ %
(
¢¢% &
filter
¢¢& ,
.
¢¢, -
Aciklama
¢¢- 5
)
¢¢5 6
)
¢¢6 7
query
££ 
=
££ 
query
££ 
.
££ 
Where
££ #
(
££# $
l
££$ %
=>
££& (
l
££) *
.
££* +
Aciklama
££+ 3
.
££3 4
Contains
££4 <
(
££< =
filter
££= C
.
££C D
Aciklama
££D L
)
££L M
)
££M N
;
££N O
if
§§ 
(
§§ 
filter
§§ 
.
§§ 
TarihBaslangic
§§ %
.
§§% &
HasValue
§§& .
)
§§. /
query
•• 
=
•• 
query
•• 
.
•• 
Where
•• #
(
••# $
l
••$ %
=>
••& (
l
••) *
.
••* +
Tarih
••+ 0
>=
••1 3
filter
••4 :
.
••: ;
TarihBaslangic
••; I
.
••I J
Value
••J O
)
••O P
;
••P Q
if
¶¶ 
(
¶¶ 
filter
¶¶ 
.
¶¶ 

TarihBitis
¶¶ !
.
¶¶! "
HasValue
¶¶" *
)
¶¶* +
query
ßß 
=
ßß 
query
ßß 
.
ßß 
Where
ßß #
(
ßß# $
l
ßß$ %
=>
ßß& (
l
ßß) *
.
ßß* +
Tarih
ßß+ 0
<=
ßß1 3
filter
ßß4 :
.
ßß: ;

TarihBitis
ßß; E
.
ßßE F
Value
ßßF K
)
ßßK L
;
ßßL M
int
©© 

totalCount
©© 
=
©© 
await
©© "
query
©©# (
.
©©( )

CountAsync
©©) 3
(
©©3 4
)
©©4 5
;
©©5 6
var
´´ 
logs
´´ 
=
´´ 
await
´´ 
query
´´ "
.
¨¨ 
OrderByDescending
¨¨ "
(
¨¨" #
l
¨¨# $
=>
¨¨% '
l
¨¨( )
.
¨¨) *
Tarih
¨¨* /
)
¨¨/ 0
.
≠≠ 
Skip
≠≠ 
(
≠≠ 
(
≠≠ 
filter
≠≠ 
.
≠≠ 

PageNumber
≠≠ (
-
≠≠) *
$num
≠≠+ ,
)
≠≠, -
*
≠≠. /
filter
≠≠0 6
.
≠≠6 7
PageSize
≠≠7 ?
)
≠≠? @
.
ÆÆ 
Take
ÆÆ 
(
ÆÆ 
filter
ÆÆ 
.
ÆÆ 
PageSize
ÆÆ %
)
ÆÆ% &
.
ØØ 
Select
ØØ 
(
ØØ 
log
ØØ 
=>
ØØ 
new
ØØ "
LogDto
ØØ# )
{
∞∞ 
LogId
±± 
=
±± 
log
±± 
.
±±  
LogId
±±  %
,
±±% &
UserId
≤≤ 
=
≤≤ 
log
≤≤  
.
≤≤  !
UserId
≤≤! '
,
≤≤' (
Durum
≥≥ 
=
≥≥ 
log
≥≥ 
.
≥≥  
Durum
≥≥  %
,
≥≥% &
	IslemTipi
¥¥ 
=
¥¥ 
log
¥¥  #
.
¥¥# $
	IslemTipi
¥¥$ -
,
¥¥- .
Aciklama
µµ 
=
µµ 
log
µµ "
.
µµ" #
Aciklama
µµ# +
,
µµ+ ,
Tarih
∂∂ 
=
∂∂ 
log
∂∂ 
.
∂∂  
Tarih
∂∂  %
,
∂∂% &
Saat
∑∑ 
=
∑∑ 
log
∑∑ 
.
∑∑ 
Saat
∑∑ #
}
∏∏ 
)
∏∏ 
.
ππ 
ToListAsync
ππ 
(
ππ 
)
ππ 
;
ππ 
return
ªª 
(
ªª 
logs
ªª 
,
ªª 

totalCount
ªª $
)
ªª$ %
;
ªª% &
}
ºº 	
}
ΩΩ 
}ææ ä
\C:\Users\JAMUMU\Desktop\ASP.NET WEB(FM)\TASINMAZ\tasinmazback\TASINMAZ\Services\IlService.cs
	namespace		 	
TASINMAZ		
 
.		 
Services		 
{

 
public 

class 
	IlService 
: 

IIlService '
{ 
private 
readonly 
AppDbContext %
_context& .
;. /
public 
	IlService 
( 
AppDbContext %
context& -
)- .
{ 	
_context 
= 
context 
; 
} 	
public 
async 
Task 
< 
List 
< 
IlDto $
>$ %
>% &
GetAllAsync' 2
(2 3
)3 4
{ 	
return 
await 
_context !
.! "
Iller" '
. 
Select 
( 
i 
=> 
new  
IlDto! &
{ 
IlId 
= 
i 
. 
IlId !
,! "
Name 
= 
i 
. 
Name !
} 
) 
. 
ToListAsync 
( 
) 
; 
} 	
} 
} ê*
^C:\Users\JAMUMU\Desktop\ASP.NET WEB(FM)\TASINMAZ\tasinmazback\TASINMAZ\Services\AuthService.cs
	namespace

 	
TASINMAZ


 
.

 
Services

 
{ 
public 

class 
AuthService 
: 
IAuthService +
{ 
private 
readonly 
AppDbContext %
_context& .
;. /
public 
AuthService 
( 
AppDbContext '
context( /
)/ 0
{ 	
_context 
= 
context 
; 
} 	
public 
async 
Task 
< 
User 
? 
>  
ValidateUserAsync! 2
(2 3
string3 9
email: ?
,? @
stringA G
passwordH P
)P Q
{ 	
var 
user 
= 
await 
_context %
.% &
Users& +
.+ ,
FirstOrDefaultAsync, ?
(? @
u@ A
=>B D
uE F
.F G
EmailG L
==M O
emailP U
)U V
;V W
if 
( 
user 
== 
null 
) 
{ 
await 
_context 
. 
Logs #
.# $
AddAsync$ ,
(, -
new- 0
Log1 4
{ 
UserId 
= 
$num 
, 
Durum 
= 
$str '
,' (
	IslemTipi 
= 
$str  '
,' (
Aciklama   
=   
$"   !
$str  ! H
{  H I
email  I N
}  N O
$str  O P
"  P Q
,  Q R
Tarih!! 
=!! 
DateTime!! $
.!!$ %
UtcNow!!% +
,!!+ ,
Saat"" 
="" 
DateTime"" #
.""# $
UtcNow""$ *
.""* +
	TimeOfDay""+ 4
}## 
)## 
;## 
await$$ 
_context$$ 
.$$ 
SaveChangesAsync$$ /
($$/ 0
)$$0 1
;$$1 2
return%% 
null%% 
;%% 
}&& 
using(( 
var(( 
hmac(( 
=(( 
new((  
System((! '
.((' (
Security((( 0
.((0 1
Cryptography((1 =
.((= >

HMACSHA256((> H
(((H I
user((I M
.((M N
PasswordSalt((N Z
)((Z [
;(([ \
var)) 
computedHash)) 
=)) 
hmac)) #
.))# $
ComputeHash))$ /
())/ 0
System))0 6
.))6 7
Text))7 ;
.)); <
Encoding))< D
.))D E
UTF8))E I
.))I J
GetBytes))J R
())R S
password))S [
)))[ \
)))\ ]
;))] ^
if** 
(** 
!** 
computedHash** 
.** 
SequenceEqual** +
(**+ ,
user**, 0
.**0 1
PasswordHash**1 =
)**= >
)**> ?
{++ 
await-- 
_context-- 
.-- 
Logs-- #
.--# $
AddAsync--$ ,
(--, -
new--- 0
Log--1 4
{.. 
UserId// 
=// 
user// !
.//! "
UserId//" (
,//( )
Durum00 
=00 
$str00 '
,00' (
	IslemTipi11 
=11 
$str11  '
,11' (
Aciklama22 
=22 
$"22 !
$str22! @
{22@ A
email22A F
}22F G
$str22G H
"22H I
,22I J
Tarih33 
=33 
DateTime33 $
.33$ %
UtcNow33% +
,33+ ,
Saat44 
=44 
DateTime44 #
.44# $
UtcNow44$ *
.44* +
	TimeOfDay44+ 4
}55 
)55 
;55 
await66 
_context66 
.66 
SaveChangesAsync66 /
(66/ 0
)660 1
;661 2
return77 
null77 
;77 
}88 
await:: 
_context:: 
.:: 
Logs:: 
.::  
AddAsync::  (
(::( )
new::) ,
Log::- 0
{;; 
UserId<< 
=<< 
user<< 
.<< 
UserId<< $
,<<$ %
Durum== 
=== 
$str== "
,==" #
	IslemTipi>> 
=>> 
$str>> #
,>># $
Aciklama?? 
=?? 
$str?? 2
,??2 3
Tarih@@ 
=@@ 
DateTime@@  
.@@  !
UtcNow@@! '
,@@' (
SaatAA 
=AA 
DateTimeAA 
.AA  
UtcNowAA  &
.AA& '
	TimeOfDayAA' 0
}BB 
)BB 
;BB 
awaitCC 
_contextCC 
.CC 
SaveChangesAsyncCC +
(CC+ ,
)CC, -
;CC- .
returnEE 
userEE 
;EE 
}FF 	
}GG 
}HH ¸
^C:\Users\JAMUMU\Desktop\ASP.NET WEB(FM)\TASINMAZ\tasinmazback\TASINMAZ\Services\IlceService.cs
	namespace 	
TASINMAZ
 
. 
Services 
{		 
public

 

class

 
IlceService

 
:

 
IIlceService

 +
{ 
private 
readonly 
AppDbContext %
_context& .
;. /
public 
IlceService 
( 
AppDbContext '
context( /
)/ 0
{ 	
_context 
= 
context 
; 
} 	
public 
async 
Task 
< 
List 
< 
IlceDto &
>& '
>' (
GetAllAsync) 4
(4 5
)5 6
{ 	
return 
await 
_context !
.! "
Ilceler" )
. 
Select 
( 
i 
=> 
new  
IlceDto! (
{ 
IlceId 
= 
i 
. 
IlceId %
,% &
Name 
= 
i 
. 
Name !
,! "
IlId 
= 
i 
. 
IlId !
} 
) 
. 
ToListAsync 
( 
) 
; 
} 	
} 
} ÊJ
QC:\Users\JAMUMU\Desktop\ASP.NET WEB(FM)\TASINMAZ\tasinmazback\TASINMAZ\Program.cs
ExcelPackage 
. 
License 
. (
SetNonCommercialOrganization 1
(1 2
$str2 <
)< =
;= >
var 
builder 
= 
WebApplication 
. 
CreateBuilder *
(* +
args+ /
)/ 0
;0 1
builder 
. 
Services 
. 
AddControllers 
(  
)  !
;! "
builder 
. 
Services 
. #
AddEndpointsApiExplorer (
(( )
)) *
;* +
builder 
. 
Services 
. 
AddSwaggerGen 
( 
c  
=>! #
{ 
c 
. 

SwaggerDoc 
( 
$str 
, 
new 
OpenApiInfo &
{' (
Title) .
=/ 0
$str1 ?
,? @
VersionA H
=I J
$strK O
}P Q
)Q R
;R S
c 
. !
AddSecurityDefinition 
( 
$str $
,$ %
new& )!
OpenApiSecurityScheme* ?
{ 
Name 
= 
$str 
, 
Type 
= 
SecuritySchemeType !
.! "
Http" &
,& '
Scheme 
= 
$str 
, 
BearerFormat 
= 
$str 
, 
In 

= 
ParameterLocation 
. 
Header %
,% &
Description 
= 
$str e
} 
) 
; 
c   
.   "
AddSecurityRequirement   
(   
new    &
OpenApiSecurityRequirement  ! ;
{!! 
{"" 	
new## !
OpenApiSecurityScheme## %
{$$ 
	Reference%% 
=%% 
new%% 
OpenApiReference%%  0
{&& 
Type'' 
='' 
ReferenceType'' (
.''( )
SecurityScheme'') 7
,''7 8
Id(( 
=(( 
$str(( !
})) 
}** 
,** 
new++ 
string++ 
[++ 
]++ 
{++ 
}++ 
},, 	
}-- 
)-- 
;-- 
}.. 
).. 
;.. 
builder11 
.11 
Services11 
.11 
AddDbContext11 
<11 
TASINMAZ11 &
.11& '
Data11' +
.11+ ,
AppDbContext11, 8
>118 9
(119 :
options11: A
=>11B D
options22 
.22 
	UseNpgsql22 
(22 
builder22 
.22 
Configuration22 +
.22+ ,
GetConnectionString22, ?
(22? @
$str22@ S
)22S T
)22T U
)22U V
;22V W
var55 
	jwtSecret55 
=55 
builder55 
.55 
Configuration55 %
[55% &
$str55& 2
]552 3
??554 6
$str557 N
;55N O
builder66 
.66 
Services66 
.66 
AddAuthentication66 "
(66" #
options66# *
=>66+ -
{77 
options88 
.88 %
DefaultAuthenticateScheme88 %
=88& '
JwtBearerDefaults88( 9
.889 : 
AuthenticationScheme88: N
;88N O
options99 
.99 "
DefaultChallengeScheme99 "
=99# $
JwtBearerDefaults99% 6
.996 7 
AuthenticationScheme997 K
;99K L
}:: 
):: 
.;; 
AddJwtBearer;; 
(;; 
options;; 
=>;; 
{<< 
options== 
.== %
TokenValidationParameters== %
===& '
new==( +%
TokenValidationParameters==, E
{>> 
ValidateIssuer?? 
=?? 
false?? 
,?? 
ValidateAudience@@ 
=@@ 
false@@  
,@@  !
ValidateLifetimeAA 
=AA 
trueAA 
,AA  $
ValidateIssuerSigningKeyBB  
=BB! "
trueBB# '
,BB' (
IssuerSigningKeyCC 
=CC 
newCC  
SymmetricSecurityKeyCC 3
(CC3 4
EncodingCC4 <
.CC< =
UTF8CC= A
.CCA B
GetBytesCCB J
(CCJ K
	jwtSecretCCK T
)CCT U
)CCU V
}DD 
;DD 
}EE 
)EE 
;EE 
builderII 
.II 
ServicesII 
.II 
	AddScopedII 
<II 
TASINMAZII #
.II# $

InterfacesII$ .
.II. /
ITasinmazServiceII/ ?
,II? @
TASINMAZIIA I
.III J
ServicesIIJ R
.IIR S
TasinmazServiceIIS b
>IIb c
(IIc d
)IId e
;IIe f
builderJJ 
.JJ 
ServicesJJ 
.JJ 
	AddScopedJJ 
<JJ 
TASINMAZJJ #
.JJ# $

InterfacesJJ$ .
.JJ. /
IMahalleServiceJJ/ >
,JJ> ?
TASINMAZJJ@ H
.JJH I
ServicesJJI Q
.JJQ R
MahalleServiceJJR `
>JJ` a
(JJa b
)JJb c
;JJc d
builderKK 
.KK 
ServicesKK 
.KK 
	AddScopedKK 
<KK 
TASINMAZKK #
.KK# $

InterfacesKK$ .
.KK. /
IIlceServiceKK/ ;
,KK; <
TASINMAZKK= E
.KKE F
ServicesKKF N
.KKN O
IlceServiceKKO Z
>KKZ [
(KK[ \
)KK\ ]
;KK] ^
builderLL 
.LL 
ServicesLL 
.LL 
	AddScopedLL 
<LL 
TASINMAZLL #
.LL# $

InterfacesLL$ .
.LL. /
IUserServiceLL/ ;
,LL; <
TASINMAZLL= E
.LLE F
ServicesLLF N
.LLN O
UserServiceLLO Z
>LLZ [
(LL[ \
)LL\ ]
;LL] ^
builderMM 
.MM 
ServicesMM 
.MM 
	AddScopedMM 
<MM 
TASINMAZMM #
.MM# $

InterfacesMM$ .
.MM. /

IIlServiceMM/ 9
,MM9 :
TASINMAZMM; C
.MMC D
ServicesMMD L
.MML M
	IlServiceMMM V
>MMV W
(MMW X
)MMX Y
;MMY Z
builderNN 
.NN 
ServicesNN 
.NN 
	AddScopedNN 
<NN 
TASINMAZNN #
.NN# $

InterfacesNN$ .
.NN. /
ILogServiceNN/ :
,NN: ;
TASINMAZNN< D
.NND E
ServicesNNE M
.NNM N

LogServiceNNN X
>NNX Y
(NNY Z
)NNZ [
;NN[ \
builderOO 
.OO 
ServicesOO 
.OO 
	AddScopedOO 
<OO 
TASINMAZOO #
.OO# $

InterfacesOO$ .
.OO. /
IAuthServiceOO/ ;
,OO; <
TASINMAZOO= E
.OOE F
ServicesOOF N
.OON O
AuthServiceOOO Z
>OOZ [
(OO[ \
)OO\ ]
;OO] ^
builderPP 
.PP 
ServicesPP 
.PP 
AddCorsPP 
(PP 
optionsPP  
=>PP! #
{QQ 
optionsRR 
.RR 
	AddPolicyRR 
(RR 
$strRR $
,RR$ %
policyRR& ,
=>RR- /
{SS 
policyTT 
.TT 
WithOriginsTT 
(TT 
$strTT 2
)TT2 3
.UU 
AllowAnyHeaderUU 
(UU 
)UU 
.VV 
AllowAnyMethodVV 
(VV 
)VV 
.WW 
AllowCredentialsWW 
(WW  
)WW  !
;WW! "
}XX 
)XX 
;XX 
}YY 
)YY 
;YY 
var[[ 
app[[ 
=[[ 	
builder[[
 
.[[ 
Build[[ 
([[ 
)[[ 
;[[ 
if^^ 
(^^ 
app^^ 
.^^ 
Environment^^ 
.^^ 
IsDevelopment^^ !
(^^! "
)^^" #
)^^# $
{__ 
app`` 
.`` 

UseSwagger`` 
(`` 
)`` 
;`` 
appaa 
.aa 
UseSwaggerUIaa 
(aa 
)aa 
;aa 
}bb 
appdd 
.dd 
UseHttpsRedirectiondd 
(dd 
)dd 
;dd 
appee 
.ee 
UseCorsee 
(ee 
$stree 
)ee 
;ee 
appff 
.ff 
UseAuthenticationff 
(ff 
)ff 
;ff 
appgg 
.gg 
UseAuthorizationgg 
(gg 
)gg 
;gg 
appii 
.ii 
MapControllersii 
(ii 
)ii 
;ii 
appkk 
.kk 
Runkk 
(kk 
)kk 	
;kk	 
Â
ãC:\Users\JAMUMU\Desktop\ASP.NET WEB(FM)\TASINMAZ\tasinmazback\TASINMAZ\Migrations\20250721072603_MakeLogUserIdNullableAndSetNullOnDelete.cs
	namespace 	
TASINMAZ
 
. 

Migrations 
{ 
public 

partial 
class 3
'MakeLogUserIdNullableAndSetNullOnDelete @
:A B
	MigrationC L
{		 
	protected 
override 
void 
Up  "
(" #
MigrationBuilder# 3
migrationBuilder4 D
)D E
{ 	
migrationBuilder 
. 
DropForeignKey +
(+ ,
name 
: 
$str ,
,, -
table 
: 
$str 
) 
; 
migrationBuilder 
. 
AlterColumn (
<( )
int) ,
>, -
(- .
name 
: 
$str 
, 
table 
: 
$str 
, 
type 
: 
$str 
,  
nullable 
: 
true 
, 

oldClrType 
: 
typeof "
(" #
int# &
)& '
,' (
oldType 
: 
$str "
)" #
;# $
migrationBuilder 
. 
AddForeignKey *
(* +
name 
: 
$str ,
,, -
table 
: 
$str 
, 
column 
: 
$str  
,  !
principalTable 
: 
$str  '
,' (
principalColumn 
:  
$str! )
,) *
onDelete 
: 
ReferentialAction +
.+ ,
SetNull, 3
)3 4
;4 5
}   	
	protected## 
override## 
void## 
Down##  $
(##$ %
MigrationBuilder##% 5
migrationBuilder##6 F
)##F G
{$$ 	
migrationBuilder%% 
.%% 
DropForeignKey%% +
(%%+ ,
name&& 
:&& 
$str&& ,
,&&, -
table'' 
:'' 
$str'' 
)'' 
;'' 
migrationBuilder)) 
.)) 
AlterColumn)) (
<))( )
int))) ,
>)), -
())- .
name** 
:** 
$str** 
,** 
table++ 
:++ 
$str++ 
,++ 
type,, 
:,, 
$str,, 
,,,  
nullable-- 
:-- 
false-- 
,--  
defaultValue.. 
:.. 
$num.. 
,..  

oldClrType// 
:// 
typeof// "
(//" #
int//# &
)//& '
,//' (
oldType00 
:00 
$str00 "
,00" #
oldNullable11 
:11 
true11 !
)11! "
;11" #
migrationBuilder33 
.33 
AddForeignKey33 *
(33* +
name44 
:44 
$str44 ,
,44, -
table55 
:55 
$str55 
,55 
column66 
:66 
$str66  
,66  !
principalTable77 
:77 
$str77  '
,77' (
principalColumn88 
:88  
$str88! )
,88) *
onDelete99 
:99 
ReferentialAction99 +
.99+ ,
Cascade99, 3
)993 4
;994 5
}:: 	
};; 
}<< ã
àC:\Users\JAMUMU\Desktop\ASP.NET WEB(FM)\TASINMAZ\tasinmazback\TASINMAZ\Migrations\20250710120000_RemoveUserFullNameFromTasinmazAndLog.cs–'
sC:\Users\JAMUMU\Desktop\ASP.NET WEB(FM)\TASINMAZ\tasinmazback\TASINMAZ\Migrations\20250710120000_CreateLogsTable.cs
	namespace 	
TASINMAZ
 
. 

Migrations 
{ 
public		 

partial		 
class		 
CreateLogsTable		 (
:		) *
	Migration		+ 4
{

 
	protected 
override 
void 
Up  "
(" #
MigrationBuilder# 3
migrationBuilder4 D
)D E
{ 	
migrationBuilder 
. 
CreateTable (
(( )
name 
: 
$str 
, 
columns 
: 
table 
=> !
new" %
{ 
LogId 
= 
table !
.! "
Column" (
<( )
int) ,
>, -
(- .
type. 2
:2 3
$str4 =
,= >
nullable? G
:G H
falseI N
)N O
. 

Annotation #
(# $
$str$ D
,D E)
NpgsqlValueGenerationStrategyF c
.c d#
IdentityByDefaultColumnd {
){ |
,| }
UserId 
= 
table "
." #
Column# )
<) *
int* -
>- .
(. /
type/ 3
:3 4
$str5 >
,> ?
nullable@ H
:H I
falseJ O
)O P
,P Q
Durum 
= 
table !
.! "
Column" (
<( )
string) /
>/ 0
(0 1
type1 5
:5 6
$str7 =
,= >
nullable? G
:G H
falseI N
)N O
,O P
	IslemTipi 
= 
table  %
.% &
Column& ,
<, -
string- 3
>3 4
(4 5
type5 9
:9 :
$str; A
,A B
nullableC K
:K L
falseM R
)R S
,S T
Aciklama 
= 
table $
.$ %
Column% +
<+ ,
string, 2
>2 3
(3 4
type4 8
:8 9
$str: @
,@ A
nullableB J
:J K
falseL Q
)Q R
,R S
Tarih 
= 
table !
.! "
Column" (
<( )
DateTime) 1
>1 2
(2 3
type3 7
:7 8
$str9 S
,S T
nullableU ]
:] ^
false_ d
)d e
,e f
Saat 
= 
table  
.  !
Column! '
<' (
TimeSpan( 0
>0 1
(1 2
type2 6
:6 7
$str8 B
,B C
nullableD L
:L M
falseN S
)S T
,T U
UserFullName  
=! "
table# (
.( )
Column) /
</ 0
string0 6
>6 7
(7 8
type8 <
:< =
$str> D
,D E
nullableF N
:N O
trueP T
)T U
} 
, 
constraints 
: 
table "
=># %
{ 
table 
. 

PrimaryKey $
($ %
$str% .
,. /
x0 1
=>2 4
x5 6
.6 7
LogId7 <
)< =
;= >
table 
. 

ForeignKey $
($ %
name 
: 
$str 4
,4 5
column   
:   
x    !
=>  " $
x  % &
.  & '
UserId  ' -
,  - .
principalTable!! &
:!!& '
$str!!( /
,!!/ 0
principalColumn"" '
:""' (
$str"") 1
,""1 2
onDelete##  
:##  !
ReferentialAction##" 3
.##3 4
Cascade##4 ;
)##; <
;##< =
}$$ 
)$$ 
;$$ 
migrationBuilder&& 
.&& 
CreateIndex&& (
(&&( )
name'' 
:'' 
$str'' &
,''& '
table(( 
:(( 
$str(( 
,(( 
column)) 
:)) 
$str))  
)))  !
;))! "
}** 	
	protected,, 
override,, 
void,, 
Down,,  $
(,,$ %
MigrationBuilder,,% 5
migrationBuilder,,6 F
),,F G
{-- 	
migrationBuilder.. 
... 
	DropTable.. &
(..& '
name// 
:// 
$str// 
)// 
;// 
}00 	
}11 
}22 ·
àC:\Users\JAMUMU\Desktop\ASP.NET WEB(FM)\TASINMAZ\tasinmazback\TASINMAZ\Migrations\20250710060334_RemoveUserFullNameFromTasinmazAndLog.cs
	namespace 	
TASINMAZ
 
. 

Migrations 
{ 
public 

partial 
class 0
$RemoveUserFullNameFromTasinmazAndLog =
:> ?
	Migration@ I
{		 
	protected 
override 
void 
Up  "
(" #
MigrationBuilder# 3
migrationBuilder4 D
)D E
{ 	
migrationBuilder 
. 

DropColumn '
(' (
name 
: 
$str $
,$ %
table 
: 
$str $
)$ %
;% &
migrationBuilder 
. 

DropColumn '
(' (
name 
: 
$str $
,$ %
table 
: 
$str 
) 
; 
} 	
	protected 
override 
void 
Down  $
($ %
MigrationBuilder% 5
migrationBuilder6 F
)F G
{ 	
migrationBuilder 
. 
	AddColumn &
<& '
string' -
>- .
(. /
name 
: 
$str $
,$ %
table 
: 
$str $
,$ %
type 
: 
$str 
, 
nullable 
: 
false 
,  
defaultValue 
: 
$str  
)  !
;! "
migrationBuilder   
.   
	AddColumn   &
<  & '
string  ' -
>  - .
(  . /
name!! 
:!! 
$str!! $
,!!$ %
table"" 
:"" 
$str"" 
,"" 
type## 
:## 
$str## 
,## 
nullable$$ 
:$$ 
false$$ 
,$$  
defaultValue%% 
:%% 
$str%%  
)%%  !
;%%! "
}&& 	
}'' 
}(( ˆ
}C:\Users\JAMUMU\Desktop\ASP.NET WEB(FM)\TASINMAZ\tasinmazback\TASINMAZ\Migrations\20250709135637_AddUserFullNameToTasinmaz.cs
	namespace 	
TASINMAZ
 
. 

Migrations 
{ 
public 

partial 
class %
AddUserFullNameToTasinmaz 2
:3 4
	Migration5 >
{		 
	protected 
override 
void 
Up  "
(" #
MigrationBuilder# 3
migrationBuilder4 D
)D E
{ 	
migrationBuilder 
. 
	AddColumn &
<& '
string' -
>- .
(. /
name 
: 
$str $
,$ %
table 
: 
$str $
,$ %
type 
: 
$str 
, 
nullable 
: 
false 
,  
defaultValue 
: 
$str  
)  !
;! "
} 	
	protected 
override 
void 
Down  $
($ %
MigrationBuilder% 5
migrationBuilder6 F
)F G
{ 	
migrationBuilder 
. 

DropColumn '
(' (
name 
: 
$str $
,$ %
table 
: 
$str $
)$ %
;% &
} 	
} 
} ı
xC:\Users\JAMUMU\Desktop\ASP.NET WEB(FM)\TASINMAZ\tasinmazback\TASINMAZ\Migrations\20250709130435_AddUserFullNameToLog.cs
	namespace 	
TASINMAZ
 
. 

Migrations 
{ 
public 

partial 
class  
AddUserFullNameToLog -
:. /
	Migration0 9
{ 
	protected		 
override		 
void		 
Up		  "
(		" #
MigrationBuilder		# 3
migrationBuilder		4 D
)		D E
{

 	
migrationBuilder 
. 
	AddColumn &
<& '
string' -
>- .
(. /
name 
: 
$str $
,$ %
table 
: 
$str 
, 
type 
: 
$str 
, 
nullable 
: 
false 
,  
defaultValue 
: 
$str  
)  !
;! "
migrationBuilder 
. 
	AddColumn &
<& '
string' -
>- .
(. /
name 
: 
$str *
,* +
table 
: 
$str 
, 
type 
: 
$str 
, 
nullable 
: 
true 
) 
;  
} 	
	protected 
override 
void 
Down  $
($ %
MigrationBuilder% 5
migrationBuilder6 F
)F G
{ 	
migrationBuilder 
. 

DropColumn '
(' (
name 
: 
$str $
,$ %
table 
: 
$str 
) 
; 
migrationBuilder 
. 

DropColumn '
(' (
name   
:   
$str   *
,  * +
table!! 
:!! 
$str!! 
)!! 
;!! 
}"" 	
}## 
}$$ ù
ÉC:\Users\JAMUMU\Desktop\ASP.NET WEB(FM)\TASINMAZ\tasinmazback\TASINMAZ\Migrations\20250709120416_ClearUserTasinmazLogAndResetIds.cs
	namespace 	
TASINMAZ
 
. 

Migrations 
{ 
public 

partial 
class +
ClearUserTasinmazLogAndResetIds 8
:9 :
	Migration; D
{		 
	protected 
override 
void 
Up  "
(" #
MigrationBuilder# 3
migrationBuilder4 D
)D E
{ 	
migrationBuilder 
. 
Sql  
(  !
$str! 8
)8 9
;9 :
migrationBuilder 
. 
Sql  
(  !
$str! ?
)? @
;@ A
migrationBuilder 
. 
Sql  
(  !
$str! 9
)9 :
;: ;
migrationBuilder 
. 
Sql  
(  !
$str! T
)T U
;U V
migrationBuilder 
. 
Sql  
(  !
$str! `
)` a
;a b
migrationBuilder 
. 
Sql  
(  !
$str! V
)V W
;W X
} 	
	protected 
override 
void 
Down  $
($ %
MigrationBuilder% 5
migrationBuilder6 F
)F G
{ 	
} 	
} 
} Ü
ÉC:\Users\JAMUMU\Desktop\ASP.NET WEB(FM)\TASINMAZ\tasinmazback\TASINMAZ\Migrations\20250709120000_ClearUserTasinmazLogAndResetIds.csÑ$
ÄC:\Users\JAMUMU\Desktop\ASP.NET WEB(FM)\TASINMAZ\tasinmazback\TASINMAZ\Migrations\20250707122248_AddPasswordSaltAndHashToUser.cs
	namespace 	
TASINMAZ
 
. 

Migrations 
{ 
public 

partial 
class (
AddPasswordSaltAndHashToUser 5
:6 7
	Migration8 A
{ 
	protected		 
override		 
void		 
Up		  "
(		" #
MigrationBuilder		# 3
migrationBuilder		4 D
)		D E
{

 	
migrationBuilder 
. 

DropColumn '
(' (
name 
: 
$str $
,$ %
table 
: 
$str 
) 
;  
migrationBuilder 
. 

DropColumn '
(' (
name 
: 
$str 
, 
table 
: 
$str 
) 
;  
migrationBuilder 
. 
	AddColumn &
<& '
byte' +
[+ ,
], -
>- .
(. /
name 
: 
$str $
,$ %
table 
: 
$str 
, 
type 
: 
$str 
, 
nullable 
: 
false 
,  
defaultValue 
: 
new !
byte" &
[& '
$num' (
]( )
)) *
;* +
migrationBuilder 
. 
	AddColumn &
<& '
byte' +
[+ ,
], -
>- .
(. /
name 
: 
$str $
,$ %
table 
: 
$str 
, 
type 
: 
$str 
, 
nullable   
:   
false   
,    
defaultValue!! 
:!! 
new!! !
byte!!" &
[!!& '
$num!!' (
]!!( )
)!!) *
;!!* +
migrationBuilder## 
.## 
	AddColumn## &
<##& '
int##' *
>##* +
(##+ ,
name$$ 
:$$ 
$str$$ 
,$$ 
table%% 
:%% 
$str%% 
,%% 
type&& 
:&& 
$str&& 
,&&  
nullable'' 
:'' 
false'' 
,''  
defaultValue(( 
:(( 
$num(( 
)((  
;((  !
})) 	
	protected++ 
override++ 
void++ 
Down++  $
(++$ %
MigrationBuilder++% 5
migrationBuilder++6 F
)++F G
{,, 	
migrationBuilder-- 
.-- 

DropColumn-- '
(--' (
name.. 
:.. 
$str.. $
,..$ %
table// 
:// 
$str// 
)// 
;//  
migrationBuilder11 
.11 

DropColumn11 '
(11' (
name22 
:22 
$str22 $
,22$ %
table33 
:33 
$str33 
)33 
;33  
migrationBuilder55 
.55 

DropColumn55 '
(55' (
name66 
:66 
$str66 
,66 
table77 
:77 
$str77 
)77 
;77  
migrationBuilder99 
.99 
	AddColumn99 &
<99& '
string99' -
>99- .
(99. /
name:: 
::: 
$str:: $
,::$ %
table;; 
:;; 
$str;; 
,;; 
type<< 
:<< 
$str<< 
,<< 
nullable== 
:== 
false== 
,==  
defaultValue>> 
:>> 
$str>>  
)>>  !
;>>! "
migrationBuilder@@ 
.@@ 
	AddColumn@@ &
<@@& '
string@@' -
>@@- .
(@@. /
nameAA 
:AA 
$strAA 
,AA 
tableBB 
:BB 
$strBB 
,BB 
typeCC 
:CC 
$strCC 
,CC 
nullableDD 
:DD 
falseDD 
,DD  
defaultValueEE 
:EE 
$strEE $
)EE$ %
;EE% &
}FF 	
}GG 
}HH {
yC:\Users\JAMUMU\Desktop\ASP.NET WEB(FM)\TASINMAZ\tasinmazback\TASINMAZ\Migrations\20250707115815_AddPasswordSaltToUser.csŒï
qC:\Users\JAMUMU\Desktop\ASP.NET WEB(FM)\TASINMAZ\tasinmazback\TASINMAZ\Migrations\20250704072950_InitialCreate.cs
	namespace 	
TASINMAZ
 
. 

Migrations 
{ 
public

 

partial

 
class

 
InitialCreate

 &
:

' (
	Migration

) 2
{ 
	protected 
override 
void 
Up  "
(" #
MigrationBuilder# 3
migrationBuilder4 D
)D E
{ 	
migrationBuilder 
. 
CreateTable (
(( )
name 
: 
$str 
, 
columns 
: 
table 
=> !
new" %
{ 
IlId 
= 
table  
.  !
Column! '
<' (
int( +
>+ ,
(, -
type- 1
:1 2
$str3 <
,< =
nullable> F
:F G
falseH M
)M N
. 

Annotation #
(# $
$str$ D
,D E)
NpgsqlValueGenerationStrategyF c
.c d#
IdentityByDefaultColumnd {
){ |
,| }
Name 
= 
table  
.  !
Column! '
<' (
string( .
>. /
(/ 0
type0 4
:4 5
$str6 <
,< =
nullable> F
:F G
falseH M
)M N
} 
, 
constraints 
: 
table "
=># %
{ 
table 
. 

PrimaryKey $
($ %
$str% /
,/ 0
x1 2
=>3 5
x6 7
.7 8
IlId8 <
)< =
;= >
} 
) 
; 
migrationBuilder 
. 
CreateTable (
(( )
name 
: 
$str 
, 
columns 
: 
table 
=> !
new" %
{ 
UserId   
=   
table   "
.  " #
Column  # )
<  ) *
int  * -
>  - .
(  . /
type  / 3
:  3 4
$str  5 >
,  > ?
nullable  @ H
:  H I
false  J O
)  O P
.!! 

Annotation!! #
(!!# $
$str!!$ D
,!!D E)
NpgsqlValueGenerationStrategy!!F c
.!!c d#
IdentityByDefaultColumn!!d {
)!!{ |
,!!| }
Email"" 
="" 
table"" !
.""! "
Column""" (
<""( )
string"") /
>""/ 0
(""0 1
type""1 5
:""5 6
$str""7 =
,""= >
nullable""? G
:""G H
false""I N
)""N O
,""O P
PasswordHash##  
=##! "
table### (
.##( )
Column##) /
<##/ 0
string##0 6
>##6 7
(##7 8
type##8 <
:##< =
$str##> D
,##D E
nullable##F N
:##N O
false##P U
)##U V
,##V W
Role$$ 
=$$ 
table$$  
.$$  !
Column$$! '
<$$' (
string$$( .
>$$. /
($$/ 0
type$$0 4
:$$4 5
$str$$6 <
,$$< =
nullable$$> F
:$$F G
false$$H M
)$$M N
}%% 
,%% 
constraints&& 
:&& 
table&& "
=>&&# %
{'' 
table(( 
.(( 

PrimaryKey(( $
((($ %
$str((% /
,((/ 0
x((1 2
=>((3 5
x((6 7
.((7 8
UserId((8 >
)((> ?
;((? @
})) 
))) 
;)) 
migrationBuilder++ 
.++ 
CreateTable++ (
(++( )
name,, 
:,, 
$str,, 
,,,  
columns-- 
:-- 
table-- 
=>-- !
new--" %
{.. 
IlceId// 
=// 
table// "
.//" #
Column//# )
<//) *
int//* -
>//- .
(//. /
type/// 3
://3 4
$str//5 >
,//> ?
nullable//@ H
://H I
false//J O
)//O P
.00 

Annotation00 #
(00# $
$str00$ D
,00D E)
NpgsqlValueGenerationStrategy00F c
.00c d#
IdentityByDefaultColumn00d {
)00{ |
,00| }
Name11 
=11 
table11  
.11  !
Column11! '
<11' (
string11( .
>11. /
(11/ 0
type110 4
:114 5
$str116 <
,11< =
nullable11> F
:11F G
false11H M
)11M N
,11N O
IlId22 
=22 
table22  
.22  !
Column22! '
<22' (
int22( +
>22+ ,
(22, -
type22- 1
:221 2
$str223 <
,22< =
nullable22> F
:22F G
false22H M
)22M N
}33 
,33 
constraints44 
:44 
table44 "
=>44# %
{55 
table66 
.66 

PrimaryKey66 $
(66$ %
$str66% 1
,661 2
x663 4
=>665 7
x668 9
.669 :
IlceId66: @
)66@ A
;66A B
table77 
.77 

ForeignKey77 $
(77$ %
name88 
:88 
$str88 5
,885 6
column99 
:99 
x99  !
=>99" $
x99% &
.99& '
IlId99' +
,99+ ,
principalTable:: &
:::& '
$str::( /
,::/ 0
principalColumn;; '
:;;' (
$str;;) /
,;;/ 0
onDelete<<  
:<<  !
ReferentialAction<<" 3
.<<3 4
Cascade<<4 ;
)<<; <
;<<< =
}== 
)== 
;== 
migrationBuilder?? 
.?? 
CreateTable?? (
(??( )
name@@ 
:@@ 
$str@@ 
,@@ 
columnsAA 
:AA 
tableAA 
=>AA !
newAA" %
{BB 
LogIdCC 
=CC 
tableCC !
.CC! "
ColumnCC" (
<CC( )
intCC) ,
>CC, -
(CC- .
typeCC. 2
:CC2 3
$strCC4 =
,CC= >
nullableCC? G
:CCG H
falseCCI N
)CCN O
.DD 

AnnotationDD #
(DD# $
$strDD$ D
,DDD E)
NpgsqlValueGenerationStrategyDDF c
.DDc d#
IdentityByDefaultColumnDDd {
)DD{ |
,DD| }
UserIdEE 
=EE 
tableEE "
.EE" #
ColumnEE# )
<EE) *
intEE* -
>EE- .
(EE. /
typeEE/ 3
:EE3 4
$strEE5 >
,EE> ?
nullableEE@ H
:EEH I
falseEEJ O
)EEO P
,EEP Q
DurumFF 
=FF 
tableFF !
.FF! "
ColumnFF" (
<FF( )
stringFF) /
>FF/ 0
(FF0 1
typeFF1 5
:FF5 6
$strFF7 =
,FF= >
nullableFF? G
:FFG H
falseFFI N
)FFN O
,FFO P
	IslemTipiGG 
=GG 
tableGG  %
.GG% &
ColumnGG& ,
<GG, -
stringGG- 3
>GG3 4
(GG4 5
typeGG5 9
:GG9 :
$strGG; A
,GGA B
nullableGGC K
:GGK L
falseGGM R
)GGR S
,GGS T
AciklamaHH 
=HH 
tableHH $
.HH$ %
ColumnHH% +
<HH+ ,
stringHH, 2
>HH2 3
(HH3 4
typeHH4 8
:HH8 9
$strHH: @
,HH@ A
nullableHHB J
:HHJ K
falseHHL Q
)HHQ R
,HHR S
TarihII 
=II 
tableII !
.II! "
ColumnII" (
<II( )
DateTimeII) 1
>II1 2
(II2 3
typeII3 7
:II7 8
$strII9 S
,IIS T
nullableIIU ]
:II] ^
falseII_ d
)IId e
,IIe f
SaatJJ 
=JJ 
tableJJ  
.JJ  !
ColumnJJ! '
<JJ' (
TimeSpanJJ( 0
>JJ0 1
(JJ1 2
typeJJ2 6
:JJ6 7
$strJJ8 B
,JJB C
nullableJJD L
:JJL M
falseJJN S
)JJS T
}KK 
,KK 
constraintsLL 
:LL 
tableLL "
=>LL# %
{MM 
tableNN 
.NN 

PrimaryKeyNN $
(NN$ %
$strNN% .
,NN. /
xNN0 1
=>NN2 4
xNN5 6
.NN6 7
LogIdNN7 <
)NN< =
;NN= >
tableOO 
.OO 

ForeignKeyOO $
(OO$ %
namePP 
:PP 
$strPP 4
,PP4 5
columnQQ 
:QQ 
xQQ  !
=>QQ" $
xQQ% &
.QQ& '
UserIdQQ' -
,QQ- .
principalTableRR &
:RR& '
$strRR( /
,RR/ 0
principalColumnSS '
:SS' (
$strSS) 1
,SS1 2
onDeleteTT  
:TT  !
ReferentialActionTT" 3
.TT3 4
CascadeTT4 ;
)TT; <
;TT< =
}UU 
)UU 
;UU 
migrationBuilderWW 
.WW 
CreateTableWW (
(WW( )
nameXX 
:XX 
$strXX "
,XX" #
columnsYY 
:YY 
tableYY 
=>YY !
newYY" %
{ZZ 
	MahalleId[[ 
=[[ 
table[[  %
.[[% &
Column[[& ,
<[[, -
int[[- 0
>[[0 1
([[1 2
type[[2 6
:[[6 7
$str[[8 A
,[[A B
nullable[[C K
:[[K L
false[[M R
)[[R S
.\\ 

Annotation\\ #
(\\# $
$str\\$ D
,\\D E)
NpgsqlValueGenerationStrategy\\F c
.\\c d#
IdentityByDefaultColumn\\d {
)\\{ |
,\\| }
Name]] 
=]] 
table]]  
.]]  !
Column]]! '
<]]' (
string]]( .
>]]. /
(]]/ 0
type]]0 4
:]]4 5
$str]]6 <
,]]< =
nullable]]> F
:]]F G
false]]H M
)]]M N
,]]N O
IlceId^^ 
=^^ 
table^^ "
.^^" #
Column^^# )
<^^) *
int^^* -
>^^- .
(^^. /
type^^/ 3
:^^3 4
$str^^5 >
,^^> ?
nullable^^@ H
:^^H I
false^^J O
)^^O P
}__ 
,__ 
constraints`` 
:`` 
table`` "
=>``# %
{aa 
tablebb 
.bb 

PrimaryKeybb $
(bb$ %
$strbb% 4
,bb4 5
xbb6 7
=>bb8 :
xbb; <
.bb< =
	MahalleIdbb= F
)bbF G
;bbG H
tablecc 
.cc 

ForeignKeycc $
(cc$ %
namedd 
:dd 
$strdd <
,dd< =
columnee 
:ee 
xee  !
=>ee" $
xee% &
.ee& '
IlceIdee' -
,ee- .
principalTableff &
:ff& '
$strff( 1
,ff1 2
principalColumngg '
:gg' (
$strgg) 1
,gg1 2
onDeletehh  
:hh  !
ReferentialActionhh" 3
.hh3 4
Cascadehh4 ;
)hh; <
;hh< =
}ii 
)ii 
;ii 
migrationBuilderkk 
.kk 
CreateTablekk (
(kk( )
namell 
:ll 
$strll #
,ll# $
columnsmm 
:mm 
tablemm 
=>mm !
newmm" %
{nn 

TasinmazIdoo 
=oo  
tableoo! &
.oo& '
Columnoo' -
<oo- .
intoo. 1
>oo1 2
(oo2 3
typeoo3 7
:oo7 8
$stroo9 B
,ooB C
nullableooD L
:ooL M
falseooN S
)ooS T
.pp 

Annotationpp #
(pp# $
$strpp$ D
,ppD E)
NpgsqlValueGenerationStrategyppF c
.ppc d#
IdentityByDefaultColumnppd {
)pp{ |
,pp| }
	MahalleIdqq 
=qq 
tableqq  %
.qq% &
Columnqq& ,
<qq, -
intqq- 0
>qq0 1
(qq1 2
typeqq2 6
:qq6 7
$strqq8 A
,qqA B
nullableqqC K
:qqK L
falseqqM R
)qqR S
,qqS T
Adarr 
=rr 
tablerr 
.rr  
Columnrr  &
<rr& '
intrr' *
>rr* +
(rr+ ,
typerr, 0
:rr0 1
$strrr2 ;
,rr; <
nullablerr= E
:rrE F
falserrG L
)rrL M
,rrM N
Parselss 
=ss 
tabless "
.ss" #
Columnss# )
<ss) *
intss* -
>ss- .
(ss. /
typess/ 3
:ss3 4
$strss5 >
,ss> ?
nullabless@ H
:ssH I
falsessJ O
)ssO P
,ssP Q
Niteliktt 
=tt 
tablett #
.tt# $
Columntt$ *
<tt* +
inttt+ .
>tt. /
(tt/ 0
typett0 4
:tt4 5
$strtt6 ?
,tt? @
nullablettA I
:ttI J
falsettK P
)ttP Q
,ttQ R
KoordinatBilgileriuu &
=uu' (
tableuu) .
.uu. /
Columnuu/ 5
<uu5 6
stringuu6 <
>uu< =
(uu= >
typeuu> B
:uuB C
$struuD J
,uuJ K
nullableuuL T
:uuT U
falseuuV [
)uu[ \
,uu\ ]
UserIdvv 
=vv 
tablevv "
.vv" #
Columnvv# )
<vv) *
intvv* -
>vv- .
(vv. /
typevv/ 3
:vv3 4
$strvv5 >
,vv> ?
nullablevv@ H
:vvH I
truevvJ N
)vvN O
}ww 
,ww 
constraintsxx 
:xx 
tablexx "
=>xx# %
{yy 
tablezz 
.zz 

PrimaryKeyzz $
(zz$ %
$strzz% 5
,zz5 6
xzz7 8
=>zz9 ;
xzz< =
.zz= >

TasinmazIdzz> H
)zzH I
;zzI J
table{{ 
.{{ 

ForeignKey{{ $
({{$ %
name|| 
:|| 
$str|| C
,||C D
column}} 
:}} 
x}}  !
=>}}" $
x}}% &
.}}& '
	MahalleId}}' 0
,}}0 1
principalTable~~ &
:~~& '
$str~~( 4
,~~4 5
principalColumn '
:' (
$str) 4
,4 5
onDelete
ÄÄ  
:
ÄÄ  !
ReferentialAction
ÄÄ" 3
.
ÄÄ3 4
Cascade
ÄÄ4 ;
)
ÄÄ; <
;
ÄÄ< =
table
ÅÅ 
.
ÅÅ 

ForeignKey
ÅÅ $
(
ÅÅ$ %
name
ÇÇ 
:
ÇÇ 
$str
ÇÇ ;
,
ÇÇ; <
column
ÉÉ 
:
ÉÉ 
x
ÉÉ  !
=>
ÉÉ" $
x
ÉÉ% &
.
ÉÉ& '
UserId
ÉÉ' -
,
ÉÉ- .
principalTable
ÑÑ &
:
ÑÑ& '
$str
ÑÑ( /
,
ÑÑ/ 0
principalColumn
ÖÖ '
:
ÖÖ' (
$str
ÖÖ) 1
)
ÖÖ1 2
;
ÖÖ2 3
}
ÜÜ 
)
ÜÜ 
;
ÜÜ 
migrationBuilder
àà 
.
àà 
CreateIndex
àà (
(
àà( )
name
ââ 
:
ââ 
$str
ââ '
,
ââ' (
table
ää 
:
ää 
$str
ää  
,
ää  !
column
ãã 
:
ãã 
$str
ãã 
)
ãã 
;
ãã  
migrationBuilder
çç 
.
çç 
CreateIndex
çç (
(
çç( )
name
éé 
:
éé 
$str
éé &
,
éé& '
table
èè 
:
èè 
$str
èè 
,
èè 
column
êê 
:
êê 
$str
êê  
)
êê  !
;
êê! "
migrationBuilder
íí 
.
íí 
CreateIndex
íí (
(
íí( )
name
ìì 
:
ìì 
$str
ìì ,
,
ìì, -
table
îî 
:
îî 
$str
îî #
,
îî# $
column
ïï 
:
ïï 
$str
ïï  
)
ïï  !
;
ïï! "
migrationBuilder
óó 
.
óó 
CreateIndex
óó (
(
óó( )
name
òò 
:
òò 
$str
òò 0
,
òò0 1
table
ôô 
:
ôô 
$str
ôô $
,
ôô$ %
column
öö 
:
öö 
$str
öö #
)
öö# $
;
öö$ %
migrationBuilder
úú 
.
úú 
CreateIndex
úú (
(
úú( )
name
ùù 
:
ùù 
$str
ùù -
,
ùù- .
table
ûû 
:
ûû 
$str
ûû $
,
ûû$ %
column
üü 
:
üü 
$str
üü  
)
üü  !
;
üü! "
}
†† 	
	protected
££ 
override
££ 
void
££ 
Down
££  $
(
££$ %
MigrationBuilder
££% 5
migrationBuilder
££6 F
)
££F G
{
§§ 	
migrationBuilder
•• 
.
•• 
	DropTable
•• &
(
••& '
name
¶¶ 
:
¶¶ 
$str
¶¶ 
)
¶¶ 
;
¶¶ 
migrationBuilder
®® 
.
®® 
	DropTable
®® &
(
®®& '
name
©© 
:
©© 
$str
©© #
)
©©# $
;
©©$ %
migrationBuilder
´´ 
.
´´ 
	DropTable
´´ &
(
´´& '
name
¨¨ 
:
¨¨ 
$str
¨¨ "
)
¨¨" #
;
¨¨# $
migrationBuilder
ÆÆ 
.
ÆÆ 
	DropTable
ÆÆ &
(
ÆÆ& '
name
ØØ 
:
ØØ 
$str
ØØ 
)
ØØ 
;
ØØ 
migrationBuilder
±± 
.
±± 
	DropTable
±± &
(
±±& '
name
≤≤ 
:
≤≤ 
$str
≤≤ 
)
≤≤  
;
≤≤  !
migrationBuilder
¥¥ 
.
¥¥ 
	DropTable
¥¥ &
(
¥¥& '
name
µµ 
:
µµ 
$str
µµ 
)
µµ 
;
µµ 
}
∂∂ 	
}
∑∑ 
}∏∏ ›
aC:\Users\JAMUMU\Desktop\ASP.NET WEB(FM)\TASINMAZ\tasinmazback\TASINMAZ\Interfaces\IUserService.cs
	namespace 	
TASINMAZ
 
. 

Interfaces 
{ 
public 

	interface 
IUserService !
{ 
Task		 
<		 
List		 
<		 
UserDto		 
>		 
>		 
GetAllAsync		 '
(		' (
)		( )
;		) *
Task

 
<

 
UserDto

 
>

 
CreateAsync

 !
(

! "
UserCreateDto

" /
dto

0 3
)

3 4
;

4 5
Task 
< 
bool 
> 
DeleteAsync 
( 
int "
id# %
)% &
;& '
Task 
< 
byte 
[ 
] 
> 
ExportToExcelAsync '
(' (
UserFilterDto( 5
filter6 <
)< =
;= >
Task 
< 
byte 
[ 
] 
> 
ExportToPdfAsync %
(% &
UserFilterDto& 3
filter4 :
): ;
;; <
Task 
< 
List 
< 
UserDto 
> 
> 
FilterAsync '
(' (
UserFilterDto( 5
filter6 <
)< =
;= >
Task 
< 
UserDto 
? 
> 
UpdateAsync "
(" #
int# &
id' )
,) *
UserDto+ 2
dto3 6
)6 7
;7 8
} 
} ˆ
dC:\Users\JAMUMU\Desktop\ASP.NET WEB(FM)\TASINMAZ\tasinmazback\TASINMAZ\Interfaces\IMahalleService.cs
	namespace 	
TASINMAZ
 
. 

Interfaces 
{ 
public 

	interface 
IMahalleService $
{ 
Task		 
<		 
List		 
<		 

MahalleDto		 
>		 
>		 
GetAllAsync		 *
(		* +
)		+ ,
;		, -
} 
} Ö
eC:\Users\JAMUMU\Desktop\ASP.NET WEB(FM)\TASINMAZ\tasinmazback\TASINMAZ\Interfaces\ITasinmazService.cs
	namespace 	
TASINMAZ
 
. 

Interfaces 
{ 
public 

	interface 
ITasinmazService %
{ 
Task		 
<		 
List		 
<		 
TasinmazDto		 
>		 
>		 
GetAllAsync		  +
(		+ ,
)		, -
;		- .
Task

 
<

 
List

 
<

 
TasinmazDto

 
>

 
>

 
GetAllByUserIdAsync

  3
(

3 4
int

4 7
userId

8 >
)

> ?
;

? @
Task 
< 
TasinmazDto 
> 
CreateAsync %
(% &
TasinmazDto& 1
dto2 5
,5 6
int7 :
userId; A
)A B
;B C
Task 
< 
bool 
> 
DeleteAsync 
( 
int "
id# %
,% &
int' *
userId+ 1
,1 2
bool3 7
isAdmin8 ?
)? @
;@ A
Task 
< 
TasinmazDto 
? 
> 
UpdateAsync &
(& '
int' *
id+ -
,- .
TasinmazDto/ :
dto; >
,> ?
int@ C
userIdD J
,J K
boolL P
isAdminQ X
)X Y
;Y Z
Task 
< 
byte 
[ 
] 
> 
ExportToExcelAsync '
(' (
TasinmazFilterDto( 9
filter: @
)@ A
;A B
Task 
< 
byte 
[ 
] 
> 
ExportToPdfAsync %
(% &
TasinmazFilterDto& 7
filter8 >
)> ?
;? @
} 
} ã
WC:\Users\JAMUMU\Desktop\ASP.NET WEB(FM)\TASINMAZ\tasinmazback\TASINMAZ\Entities\User.cs
	namespace 	
TASINMAZ
 
. 
Entities 
{ 
public 

enum 
Role 
{ 
User		 
,		 
Admin

 
} 
public 

class 
User 
{ 
[ 	
Key	 
] 
[ 	
DatabaseGenerated	 
( #
DatabaseGeneratedOption 2
.2 3
Identity3 ;
); <
]< =
public 
int 
UserId 
{ 
get 
;  
set! $
;$ %
}& '
[ 	
Required	 
] 
[ 	
	MaxLength	 
( 
$num 
) 
] 
public 
string 
FullName 
{  
get! $
;$ %
set& )
;) *
}+ ,
=- .
null/ 3
!3 4
;4 5
[ 	
Required	 
] 
[ 	
EmailAddress	 
] 
[ 	
	MaxLength	 
( 
$num 
) 
] 
public 
string 
Email 
{ 
get !
;! "
set# &
;& '
}( )
=* +
null, 0
!0 1
;1 2
[ 	
Required	 
] 
[ 	

JsonIgnore	 
] 
public 
byte 
[ 
] 
PasswordHash "
{# $
get% (
;( )
set* -
;- .
}/ 0
=1 2
null3 7
!7 8
;8 9
[   	
Required  	 
]   
[!! 	

JsonIgnore!!	 
]!! 
public"" 
byte"" 
["" 
]"" 
PasswordSalt"" "
{""# $
get""% (
;""( )
set""* -
;""- .
}""/ 0
=""0 1
null""2 6
!""6 7
;""7 8
[$$ 	
Required$$	 
]$$ 
public%% 
Role%% 
Role%% 
{%% 
get%% 
;%% 
set%%  #
;%%# $
}%%% &
=%%' (
Role%%) -
.%%- .
User%%. 2
;%%2 3
public(( 
ICollection(( 
<(( 
Tasinmaz(( #
>((# $
?(($ %
Tasinmazlar((& 1
{((2 3
get((4 7
;((7 8
set((9 <
;((< =
}((> ?
[** 	

JsonIgnore**	 
]** 
public++ 
ICollection++ 
<++ 
Log++ 
>++ 
?++  
Loglar++! '
{++( )
get++* -
;++- .
set++/ 2
;++2 3
}++4 5
},, 
}-- Á
_C:\Users\JAMUMU\Desktop\ASP.NET WEB(FM)\TASINMAZ\tasinmazback\TASINMAZ\Interfaces\IIlService.cs
	namespace 	
TASINMAZ
 
. 

Interfaces 
{ 
public 

	interface 

IIlService 
{ 
Task		 
<		 
List		 
<		 
IlDto		 
>		 
>		 
GetAllAsync		 %
(		% &
)		& '
;		' (
}

 
} Ì
aC:\Users\JAMUMU\Desktop\ASP.NET WEB(FM)\TASINMAZ\tasinmazback\TASINMAZ\Interfaces\IIlceService.cs
	namespace 	
TASINMAZ
 
. 

Interfaces 
{ 
public 

	interface 
IIlceService !
{ 
Task		 
<		 
List		 
<		 
IlceDto		 
>		 
>		 
GetAllAsync		 '
(		' (
)		( )
;		) *
}

 
} Ø
aC:\Users\JAMUMU\Desktop\ASP.NET WEB(FM)\TASINMAZ\tasinmazback\TASINMAZ\Interfaces\IAuthService.cs
	namespace 	
TASINMAZ
 
. 

Interfaces 
{ 
public 

	interface 
IAuthService !
{ 
Task 
< 
User 
? 
> 
ValidateUserAsync %
(% &
string& ,
email- 2
,2 3
string4 :
password; C
)C D
;D E
}		 
}

 ÿ
`C:\Users\JAMUMU\Desktop\ASP.NET WEB(FM)\TASINMAZ\tasinmazback\TASINMAZ\Interfaces\ILogService.cs
	namespace 	
TASINMAZ
 
. 

Interfaces 
{ 
public 

	interface 
ILogService  
{ 
Task		 
<		 
List		 
<		 
LogDto		 
>		 
>		 
GetAllAsync		 &
(		& '
)		' (
;		( )
Task

 
AddAsync

 
(

 
LogDto

 
logDto

 #
)

# $
;

$ %
Task 
< 
List 
< 
LogDto 
> 
> 
FilterAsync &
(& '
LogFilterDto' 3
filter4 :
): ;
;; <
Task 
< 
( 
List 
< 
LogDto 
> 
Logs 
,  
int! $

TotalCount% /
)/ 0
>0 1
FilterPagedAsync2 B
(B C
LogFilterDtoC O
filterP V
)V W
;W X
Task 
< 
byte 
[ 
] 
> 
ExportToExcelAsync '
(' (
LogFilterDto( 4
filter5 ;
); <
;< =
Task 
< 
byte 
[ 
] 
> 
ExportToPdfAsync %
(% &
LogFilterDto& 2
filter3 9
)9 :
;: ;
} 
} •
[C:\Users\JAMUMU\Desktop\ASP.NET WEB(FM)\TASINMAZ\tasinmazback\TASINMAZ\Entities\Tasinmaz.cs
	namespace 	
TASINMAZ
 
. 
Entities 
{ 
public 

enum 
Nitelik 
{ 
Arsa 
, 
Tarla 
, 
Mesken 
} 
public

 

class

 
Tasinmaz

 
{ 
public 
int 

TasinmazId 
{ 
get  #
;# $
set% (
;( )
}* +
public 
int 
	MahalleId 
{ 
get "
;" #
set$ '
;' (
}) *
public 
Mahalle 
Mahalle 
{  
get! $
;$ %
set& )
;) *
}+ ,
=- .
null/ 3
!3 4
;4 5
public 
int 
Ada 
{ 
get 
; 
set !
;! "
}# $
public 
int 
Parsel 
{ 
get 
;  
set! $
;$ %
}& '
public 
Nitelik 
Nitelik 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
string 
KoordinatBilgileri (
{) *
get+ .
;. /
set0 3
;3 4
}5 6
=7 8
null9 =
!= >
;> ?
public 
int 
UserId 
{ 
get 
;  
set! $
;$ %
}& '
} 
} ‰	
ZC:\Users\JAMUMU\Desktop\ASP.NET WEB(FM)\TASINMAZ\tasinmazback\TASINMAZ\Entities\Mahalle.cs
	namespace 	
TASINMAZ
 
. 
Entities 
{ 
public 

class 
Mahalle 
{ 
public 
int 
	MahalleId 
{ 
get "
;" #
set$ '
;' (
}) *
public 
string 
Name 
{ 
get  
;  !
set" %
;% &
}' (
=) *
null+ /
!/ 0
;0 1
public 
int 
IlceId 
{ 
get 
;  
set! $
;$ %
}& '
public 
Ilce 
Ilce 
{ 
get 
; 
set  #
;# $
}% &
=' (
null) -
!- .
;. /
public		 
ICollection		 
<		 
Tasinmaz		 #
>		# $
?		$ %
Tasinmazlar		& 1
{		2 3
get		4 7
;		7 8
set		9 <
;		< =
}		> ?
}

 
} Ω
VC:\Users\JAMUMU\Desktop\ASP.NET WEB(FM)\TASINMAZ\tasinmazback\TASINMAZ\Entities\Log.cs
	namespace 	
TASINMAZ
 
. 
Entities 
{ 
public 

class 
Log 
{ 
public 
int 
LogId 
{ 
get 
; 
set  #
;# $
}% &
public 
int 
? 
UserId 
{ 
get  
;  !
set" %
;% &
}' (
public 
User 
? 
User 
{ 
get 
;  
set! $
;$ %
}& '
public		 
string		 
Durum		 
{		 
get		 !
;		! "
set		# &
;		& '
}		( )
=		* +
null		, 0
!		0 1
;		1 2
public

 
string

 
	IslemTipi

 
{

  !
get

" %
;

% &
set

' *
;

* +
}

, -
=

. /
null

0 4
!

4 5
;

5 6
public 
string 
Aciklama 
{  
get! $
;$ %
set& )
;) *
}+ ,
=- .
null/ 3
!3 4
;4 5
public 
DateTime 
Tarih 
{ 
get  #
;# $
set% (
;( )
}* +
public 
TimeSpan 
Saat 
{ 
get "
;" #
set$ '
;' (
}) *
} 
} ”	
WC:\Users\JAMUMU\Desktop\ASP.NET WEB(FM)\TASINMAZ\tasinmazback\TASINMAZ\Entities\Ilce.cs
	namespace 	
TASINMAZ
 
. 
Entities 
{ 
public 

class 
Ilce 
{ 
public 
int 
IlceId 
{ 
get 
;  
set! $
;$ %
}& '
public 
string 
Name 
{ 
get  
;  !
set" %
;% &
}' (
=) *
null+ /
!/ 0
;0 1
public 
int 
IlId 
{ 
get 
; 
set "
;" #
}$ %
public 
Il 
Il 
{ 
get 
; 
set 
;  
}! "
=# $
null% )
!) *
;* +
public		 
ICollection		 
<		 
Mahalle		 "
>		" #
?		# $

Mahalleler		% /
{		0 1
get		2 5
;		5 6
set		7 :
;		: ;
}		< =
}

 
} ·
UC:\Users\JAMUMU\Desktop\ASP.NET WEB(FM)\TASINMAZ\tasinmazback\TASINMAZ\Entities\Il.cs
	namespace 	
TASINMAZ
 
. 
Entities 
{ 
public 

class 
Il 
{ 
public 
int 
IlId 
{ 
get 
; 
set "
;" #
}$ %
public 
string 
Name 
{ 
get  
;  !
set" %
;% &
}' (
=) *
null+ /
!/ 0
;0 1
public 
ICollection 
< 
Ilce 
>  
?  !
Ilceler" )
{* +
get, /
;/ 0
set1 4
;4 5
}6 7
} 
}		 ƒ
\C:\Users\JAMUMU\Desktop\ASP.NET WEB(FM)\TASINMAZ\tasinmazback\TASINMAZ\Dtos\UserFilterDto.cs
	namespace 	
TASINMAZ
 
. 
Dtos 
{ 
public 

class 
UserFilterDto 
{ 
public 
int 
? 
UserId 
{ 
get  
;  !
set" %
;% &
}' (
public 
string 
? 
FullName 
{  !
get" %
;% &
set' *
;* +
}, -
public 
string 
? 
Email 
{ 
get "
;" #
set$ '
;' (
}) *
public 
string 
? 
Role 
{ 
get !
;! "
set# &
;& '
}( )
}		 
}

 Ç
`C:\Users\JAMUMU\Desktop\ASP.NET WEB(FM)\TASINMAZ\tasinmazback\TASINMAZ\Dtos\TasinmazFilterDto.cs
public 
class 
TasinmazFilterDto 
{ 
public 

int 
? 
	MahalleId 
{ 
get 
;  
set! $
;$ %
}& '
public 

int 
? 
Ada 
{ 
get 
; 
set 
; 
}  !
public 

int 
? 
Parsel 
{ 
get 
; 
set !
;! "
}# $
public 

string 
? 
Nitelik 
{ 
get  
;  !
set" %
;% &
}' (
public 

int 
? 
UserId 
{ 
get 
; 
set !
;! "
}# $
} ‰	
VC:\Users\JAMUMU\Desktop\ASP.NET WEB(FM)\TASINMAZ\tasinmazback\TASINMAZ\Dtos\UserDto.cs
	namespace 	
TASINMAZ
 
. 
Dtos 
{ 
public 

class 
UserDto 
{ 
public 
int 
UserId 
{ 
get 
;  
set! $
;$ %
}& '
public 
string 
FullName 
{  
get! $
;$ %
set& )
;) *
}+ ,
=- .
null/ 3
!3 4
;4 5
public 
string 
Email 
{ 
get !
;! "
set# &
;& '
}( )
=* +
null, 0
!0 1
;1 2
public 
string 
Role 
{ 
get  
;  !
set" %
;% &
}' (
=) *
null+ /
!/ 0
;0 1
public		 
string		 
?		 
Password		 
{		  !
get		" %
;		% &
set		' *
;		* +
}		, -
}

 
} ⁄
\C:\Users\JAMUMU\Desktop\ASP.NET WEB(FM)\TASINMAZ\tasinmazback\TASINMAZ\Dtos\UserCreateDto.cs
	namespace 	
TASINMAZ
 
. 
Dtos 
{ 
public 

class 
UserCreateDto 
{ 
[ 	
Required	 
] 
[ 	
	MaxLength	 
( 
$num 
) 
] 
public		 
string		 
FullName		 
{		  
get		! $
;		$ %
set		& )
;		) *
}		+ ,
=		- .
null		/ 3
!		3 4
;		4 5
[ 	
Required	 
] 
[ 	
EmailAddress	 
( 
ErrorMessage "
=# $
$str% J
)J K
]K L
public 
string 
Email 
{ 
get !
;! "
set# &
;& '
}( )
=* +
null, 0
!0 1
;1 2
[ 	
Required	 
( 
ErrorMessage 
=  
$str! 4
)4 5
]5 6
[ 	
	MinLength	 
( 
$num 
, 
ErrorMessage "
=# $
$str% H
)H I
]I J
[ 	
RegularExpression	 
( 
$str K
,K L
ErrorMessage 
= 
$str d
)d e
]e f
public 
string 
Password 
{  
get! $
;$ %
set& )
;) *
}+ ,
=- .
null/ 3
!3 4
;4 5
public 
string 
Role 
{ 
get  
;  !
set" %
;% &
}' (
=) *
null+ /
!/ 0
;0 1
} 
} ø

ZC:\Users\JAMUMU\Desktop\ASP.NET WEB(FM)\TASINMAZ\tasinmazback\TASINMAZ\Dtos\TasinmazDto.cs
	namespace 	
TASINMAZ
 
. 
Dtos 
{ 
public 

class 
TasinmazDto 
{ 
public 
int 

TasinmazId 
{ 
get  #
;# $
set% (
;( )
}* +
public 
int 
	MahalleId 
{ 
get "
;" #
set$ '
;' (
}) *
public 
int 
Ada 
{ 
get 
; 
set !
;! "
}# $
public 
int 
Parsel 
{ 
get 
;  
set! $
;$ %
}& '
public		 
string		 
Nitelik		 
{		 
get		  #
;		# $
set		% (
;		( )
}		* +
=		, -
null		. 2
!		2 3
;		3 4
public

 
string

 
KoordinatBilgileri

 (
{

) *
get

+ .
;

. /
set

0 3
;

3 4
}

5 6
=

7 8
null

9 =
!

= >
;

> ?
} 
} ¶
YC:\Users\JAMUMU\Desktop\ASP.NET WEB(FM)\TASINMAZ\tasinmazback\TASINMAZ\Dtos\MahalleDto.cs
	namespace 	
TASINMAZ
 
. 
Dtos 
{ 
public 

class 

MahalleDto 
{ 
public 
int 
	MahalleId 
{ 
get "
;" #
set$ '
;' (
}) *
public 
string 
Name 
{ 
get  
;  !
set" %
;% &
}' (
=) *
null+ /
!/ 0
;0 1
public 
int 
IlceId 
{ 
get 
;  
set! $
;$ %
}& '
} 
}		 Ω
[C:\Users\JAMUMU\Desktop\ASP.NET WEB(FM)\TASINMAZ\tasinmazback\TASINMAZ\Dtos\LogFilterDto.cs
	namespace 	
TASINMAZ
 
. 
Dtos 
{ 
public 

class 
LogFilterDto 
{ 
public 
int 
? 
UserId 
{ 
get  
;  !
set" %
;% &
}' (
public 
string 
? 
Durum 
{ 
get "
;" #
set$ '
;' (
}) *
public 
string 
? 
	IslemTipi  
{! "
get# &
;& '
set( +
;+ ,
}- .
public 
string 
? 
Aciklama 
{  !
get" %
;% &
set' *
;* +
}, -
public		 
DateTime		 
?		 
TarihBaslangic		 '
{		( )
get		* -
;		- .
set		/ 2
;		2 3
}		4 5
public

 
DateTime

 
?

 

TarihBitis

 #
{

$ %
get

& )
;

) *
set

+ .
;

. /
}

0 1
public 
int 

PageNumber 
{ 
get  #
;# $
set% (
;( )
}* +
=, -
$num. /
;/ 0
public 
int 
PageSize 
{ 
get !
;! "
set# &
;& '
}( )
=* +
$num, .
;. /
} 
} ñ
UC:\Users\JAMUMU\Desktop\ASP.NET WEB(FM)\TASINMAZ\tasinmazback\TASINMAZ\Dtos\LogDto.cs
	namespace 	
TASINMAZ
 
. 
Dtos 
{ 
public 

class 
LogDto 
{ 
public 
int 
LogId 
{ 
get 
; 
set  #
;# $
}% &
public 
int 
? 
UserId 
{ 
get  
;  !
set" %
;% &
}' (
public 
string 
Durum 
{ 
get !
;! "
set# &
;& '
}( )
=* +
null, 0
!0 1
;1 2
public 
string 
	IslemTipi 
{  !
get" %
;% &
set' *
;* +
}, -
=. /
null0 4
!4 5
;5 6
public		 
string		 
Aciklama		 
{		  
get		! $
;		$ %
set		& )
;		) *
}		+ ,
=		- .
null		/ 3
!		3 4
;		4 5
public

 
DateTime

 
Tarih

 
{

 
get

  #
;

# $
set

% (
;

( )
}

* +
public 
TimeSpan 
Saat 
{ 
get "
;" #
set$ '
;' (
}) *
} 
} Ä
TC:\Users\JAMUMU\Desktop\ASP.NET WEB(FM)\TASINMAZ\tasinmazback\TASINMAZ\Dtos\IlDto.cs
	namespace 	
TASINMAZ
 
. 
Dtos 
{ 
public 

class 
IlDto 
{ 
public 
int 
IlId 
{ 
get 
; 
set "
;" #
}$ %
public 
string 
Name 
{ 
get  
;  !
set" %
;% &
}' (
=) *
null+ /
!/ 0
;0 1
} 
} õ
VC:\Users\JAMUMU\Desktop\ASP.NET WEB(FM)\TASINMAZ\tasinmazback\TASINMAZ\Dtos\IlceDto.cs
	namespace 	
TASINMAZ
 
. 
Dtos 
{ 
public 

class 
IlceDto 
{ 
public 
int 
IlceId 
{ 
get 
;  
set! $
;$ %
}& '
public 
string 
Name 
{ 
get  
;  !
set" %
;% &
}' (
=) *
null+ /
!/ 0
;0 1
public 
int 
IlId 
{ 
get 
; 
set "
;" #
}$ %
} 
}		 ¥
VC:\Users\JAMUMU\Desktop\ASP.NET WEB(FM)\TASINMAZ\tasinmazback\TASINMAZ\Dtos\AuthDto.cs
	namespace 	
TASINMAZ
 
. 
Dtos 
{ 
public 

class 
AuthDto 
{ 
public 
string 
Email 
{ 
get !
;! "
set# &
;& '
}( )
=* +
null, 0
!0 1
;1 2
public 
string 
Password 
{  
get! $
;$ %
set& )
;) *
}+ ,
=- .
null/ 3
!3 4
;4 5
} 
public		 

class		 
AuthResponseDto		  
{

 
public 
string 
Token 
{ 
get !
;! "
set# &
;& '
}( )
=* +
null, 0
!0 1
;1 2
public 
string 
Email 
{ 
get !
;! "
set# &
;& '
}( )
=* +
null, 0
!0 1
;1 2
public 
string 
Role 
{ 
get  
;  !
set" %
;% &
}' (
=) *
null+ /
!/ 0
;0 1
} 
} Y
WC:\Users\JAMUMU\Desktop\ASP.NET WEB(FM)\TASINMAZ\tasinmazback\TASINMAZ\Data\SeedData.cs€
[C:\Users\JAMUMU\Desktop\ASP.NET WEB(FM)\TASINMAZ\tasinmazback\TASINMAZ\Data\AppDbContext.cs
	namespace 	
TASINMAZ
 
. 
Data 
{ 
public 

class 
AppDbContext 
: 
	DbContext  )
{ 
public		 
AppDbContext		 
(		 
DbContextOptions		 ,
<		, -
AppDbContext		- 9
>		9 :
options		; B
)		B C
:		D E
base		F J
(		J K
options		K R
)		R S
{		T U
}		V W
public 
DbSet 
< 
Il 
> 
Iller 
{  
get! $
;$ %
set& )
;) *
}+ ,
public 
DbSet 
< 
Ilce 
> 
Ilceler "
{# $
get% (
;( )
set* -
;- .
}/ 0
public 
DbSet 
< 
Mahalle 
> 

Mahalleler (
{) *
get+ .
;. /
set0 3
;3 4
}5 6
public 
DbSet 
< 
Tasinmaz 
> 
Tasinmazlar *
{+ ,
get- 0
;0 1
set2 5
;5 6
}7 8
public 
DbSet 
< 
User 
> 
Users  
{! "
get# &
;& '
set( +
;+ ,
}- .
public 
DbSet 
< 
Log 
> 
Logs 
{  
get! $
;$ %
set& )
;) *
}+ ,
	protected 
override 
void 
OnModelCreating  /
(/ 0
ModelBuilder0 <
modelBuilder= I
)I J
{ 	
base 
. 
OnModelCreating  
(  !
modelBuilder! -
)- .
;. /
modelBuilder 
. 
Entity 
<  
Log  #
># $
($ %
)% &
. 
HasOne 
( 
l 
=> 
l 
. 
User #
)# $
. 
WithMany 
( 
u 
=> 
u  
.  !
Loglar! '
)' (
. 
HasForeignKey 
( 
l  
=>! #
l$ %
.% &
UserId& ,
), -
. 
OnDelete 
( 
DeleteBehavior (
.( )
SetNull) 0
)0 1
;1 2
} 	
} 
} ≠7
dC:\Users\JAMUMU\Desktop\ASP.NET WEB(FM)\TASINMAZ\tasinmazback\TASINMAZ\Controllers\UserController.cs
	namespace 	
TASINMAZ
 
. 
Controllers 
{ 
[		 
ApiController		 
]		 
[

 
Route

 

(


 
$str

 
)

 
]

 
public 

class 
UserController 
:  !
ControllerBase" 0
{ 
private 
readonly 
IUserService %
_userService& 2
;2 3
public 
UserController 
( 
IUserService *
userService+ 6
)6 7
{ 	
_userService 
= 
userService &
;& '
} 	
[ 	
	Authorize	 
( 
Roles 
= 
$str "
)" #
]# $
[ 	
HttpGet	 
] 
public 
async 
Task 
< 
IActionResult '
>' (
GetAll) /
(/ 0
)0 1
{ 	
var 
users 
= 
await 
_userService *
.* +
GetAllAsync+ 6
(6 7
)7 8
;8 9
return 
Ok 
( 
users 
) 
; 
} 	
[ 	
	Authorize	 
( 
Roles 
= 
$str "
)" #
]# $
[ 	
HttpPost	 
( 
$str 
) 
] 
public 
async 
Task 
< 
IActionResult '
>' (
Filter) /
(/ 0
[0 1
FromBody1 9
]9 :
UserFilterDto; H
filterI O
)O P
{ 	
var   
users   
=   
await   
_userService   *
.  * +
FilterAsync  + 6
(  6 7
filter  7 =
)  = >
;  > ?
return!! 
Ok!! 
(!! 
users!! 
)!! 
;!! 
}"" 	
[$$ 	
	Authorize$$	 
($$ 
Roles$$ 
=$$ 
$str$$ "
)$$" #
]$$# $
[%% 	
HttpPost%%	 
]%% 
public&& 
async&& 
Task&& 
<&& 
IActionResult&& '
>&&' (
Create&&) /
(&&/ 0
[&&0 1
FromBody&&1 9
]&&9 :
UserCreateDto&&; H
dto&&I L
)&&L M
{'' 	
var(( 
created(( 
=(( 
await(( 
_userService((  ,
.((, -
CreateAsync((- 8
(((8 9
dto((9 <
)((< =
;((= >
return)) 
CreatedAtAction)) "
())" #
nameof))# )
())) *
GetAll))* 0
)))0 1
,))1 2
new))3 6
{))7 8
id))9 ;
=))< =
created))> E
.))E F
UserId))F L
}))M N
,))N O
created))P W
)))W X
;))X Y
}** 	
[,, 	
	Authorize,,	 
(,, 
Roles,, 
=,, 
$str,, "
),," #
],,# $
[-- 	

HttpDelete--	 
(-- 
$str-- 
)-- 
]-- 
public.. 
async.. 
Task.. 
<.. 
IActionResult.. '
>..' (
Delete..) /
(../ 0
int..0 3
id..4 6
)..6 7
{// 	
var00 
deleted00 
=00 
await00 
_userService00  ,
.00, -
DeleteAsync00- 8
(008 9
id009 ;
)00; <
;00< =
if11 
(11 
!11 
deleted11 
)11 
return11  
NotFound11! )
(11) *
)11* +
;11+ ,
return22 
	NoContent22 
(22 
)22 
;22 
}33 	
[55 	
	Authorize55	 
(55 
Roles55 
=55 
$str55 "
)55" #
]55# $
[66 	
HttpPost66	 
(66 
$str66  
)66  !
]66! "
public77 
async77 
Task77 
<77 
IActionResult77 '
>77' (
ExportToExcel77) 6
(776 7
[777 8
FromBody778 @
]77@ A
UserFilterDto77B O
filter77P V
)77V W
{88 	
var99 
fileContent99 
=99 
await99 #
_userService99$ 0
.990 1
ExportToExcelAsync991 C
(99C D
filter99D J
)99J K
;99K L
return:: 
File:: 
(:: 
fileContent:: #
,::# $
$str::% h
,::h i
$str::j v
)::v w
;::w x
};; 	
[== 	
	Authorize==	 
(== 
Roles== 
=== 
$str== "
)==" #
]==# $
[>> 	
HttpPost>>	 
(>> 
$str>> 
)>> 
]>>  
public?? 
async?? 
Task?? 
<?? 
IActionResult?? '
>??' (
ExportToPdf??) 4
(??4 5
[??5 6
FromBody??6 >
]??> ?
UserFilterDto??@ M
filter??N T
)??T U
{@@ 	
varAA 
fileContentAA 
=AA 
awaitAA #
_userServiceAA$ 0
.AA0 1
ExportToPdfAsyncAA1 A
(AAA B
filterAAB H
)AAH I
;AAI J
returnBB 
FileBB 
(BB 
fileContentBB #
,BB# $
$strBB% 6
,BB6 7
$strBB8 C
)BBC D
;BBD E
}CC 	
[EE 	
HttpPutEE	 
(EE 
$strEE 
)EE 
]EE 
publicFF 
asyncFF 
TaskFF 
<FF 
IActionResultFF '
>FF' (
UpdateFF) /
(FF/ 0
intFF0 3
idFF4 6
,FF6 7
[FF8 9
FromBodyFF9 A
]FFA B
UserDtoFFC J
dtoFFK N
)FFN O
{GG 	
varHH 
updatedHH 
=HH 
awaitHH 
_userServiceHH  ,
.HH, -
UpdateAsyncHH- 8
(HH8 9
idHH9 ;
,HH; <
dtoHH= @
)HH@ A
;HHA B
ifII 
(II 
updatedII 
==II 
nullII 
)II  
returnJJ 
NotFoundJJ 
(JJ  
)JJ  !
;JJ! "
returnKK 
OkKK 
(KK 
updatedKK 
)KK 
;KK 
}LL 	
}MM 
}NN ‘j
hC:\Users\JAMUMU\Desktop\ASP.NET WEB(FM)\TASINMAZ\tasinmazback\TASINMAZ\Controllers\TasinmazController.cs
	namespace 	
TASINMAZ
 
. 
Controllers 
{		 
[

 
ApiController

 
]

 
[ 
Route 

(
 
$str 
) 
] 
public 

class 
TasinmazController #
:$ %
ControllerBase& 4
{ 
private 
readonly 
ITasinmazService )
_service* 2
;2 3
public 
TasinmazController !
(! "
ITasinmazService" 2
service3 :
): ;
{ 	
_service 
= 
service 
; 
} 	
[ 	
	Authorize	 
( 
Roles 
= 
$str "
)" #
]# $
[ 	
HttpGet	 
] 
public 
async 
Task 
< 
IActionResult '
>' (
GetAll) /
(/ 0
)0 1
{ 	
var 
list 
= 
await 
_service %
.% &
GetAllAsync& 1
(1 2
)2 3
;3 4
return 
Ok 
( 
list 
) 
; 
} 	
[ 	
	Authorize	 
] 
[ 	
HttpGet	 
( 
$str 
) 
] 
public 
async 
Task 
< 
IActionResult '
>' (
GetMyTasinmazlar) 9
(9 :
): ;
{   	
var!! 
userIdClaim!! 
=!! 
User!! "
.!!" #
	FindFirst!!# ,
(!!, -
System!!- 3
.!!3 4
Security!!4 <
.!!< =
Claims!!= C
.!!C D

ClaimTypes!!D N
.!!N O
NameIdentifier!!O ]
)!!] ^
;!!^ _
if"" 
("" 
userIdClaim"" 
=="" 
null"" #
)""# $
return## 
Unauthorized## #
(### $
)##$ %
;##% &
int%% 
userId%% 
=%% 
int%% 
.%% 
Parse%% "
(%%" #
userIdClaim%%# .
.%%. /
Value%%/ 4
)%%4 5
;%%5 6
var'' 
list'' 
='' 
await'' 
_service'' %
.''% &
GetAllByUserIdAsync''& 9
(''9 :
userId'': @
)''@ A
;''A B
return(( 
Ok(( 
((( 
list(( 
)(( 
;(( 
})) 	
[++ 	
	Authorize++	 
]++ 
[,, 	
HttpPost,,	 
],, 
public-- 
async-- 
Task-- 
<-- 
IActionResult-- '
>--' (
Create--) /
(--/ 0
[--0 1
FromBody--1 9
]--9 :
TasinmazDto--; F
dto--G J
)--J K
{.. 	
var// 
userIdClaim// 
=// 
User// "
.//" #
	FindFirst//# ,
(//, -

ClaimTypes//- 7
.//7 8
NameIdentifier//8 F
)//F G
;//G H
var00 
	roleClaim00 
=00 
User00  
.00  !
	FindFirst00! *
(00* +

ClaimTypes00+ 5
.005 6
Role006 :
)00: ;
;00; <
if11 
(11 
userIdClaim11 
==11 
null11 #
||11$ &
	roleClaim11' 0
==111 3
null114 8
)118 9
return22 
Unauthorized22 #
(22# $
)22$ %
;22% &
if44 
(44 
	roleClaim44 
.44 
Value44 
==44  "
$str44# *
)44* +
return55 
Forbid55 
(55 
$str55 E
)55E F
;55F G
int77 
userId77 
=77 
int77 
.77 
Parse77 "
(77" #
userIdClaim77# .
.77. /
Value77/ 4
)774 5
;775 6
var99 
created99 
=99 
await99 
_service99  (
.99( )
CreateAsync99) 4
(994 5
dto995 8
,998 9
userId99: @
)99@ A
;99A B
return:: 
CreatedAtAction:: "
(::" #
nameof::# )
(::) *
GetAll::* 0
)::0 1
,::1 2
new::3 6
{::7 8
id::9 ;
=::< =
created::> E
.::E F

TasinmazId::F P
}::Q R
,::R S
created::T [
)::[ \
;::\ ]
};; 	
[== 	
	Authorize==	 
]== 
[>> 	

HttpDelete>>	 
(>> 
$str>> 
)>> 
]>> 
public?? 
async?? 
Task?? 
<?? 
IActionResult?? '
>??' (
Delete??) /
(??/ 0
int??0 3
id??4 6
)??6 7
{@@ 	
varAA 
userIdClaimAA 
=AA 
UserAA "
.AA" #
	FindFirstAA# ,
(AA, -
SystemAA- 3
.AA3 4
SecurityAA4 <
.AA< =
ClaimsAA= C
.AAC D

ClaimTypesAAD N
.AAN O
NameIdentifierAAO ]
)AA] ^
;AA^ _
varBB 
	roleClaimBB 
=BB 
UserBB  
.BB  !
	FindFirstBB! *
(BB* +

ClaimTypesBB+ 5
.BB5 6
RoleBB6 :
)BB: ;
;BB; <
ifCC 
(CC 
userIdClaimCC 
==CC 
nullCC #
||CC$ &
	roleClaimCC' 0
==CC1 3
nullCC4 8
)CC8 9
returnDD 
UnauthorizedDD #
(DD# $
)DD$ %
;DD% &
intFF 
userIdFF 
=FF 
intFF 
.FF 
ParseFF "
(FF" #
userIdClaimFF# .
.FF. /
ValueFF/ 4
)FF4 5
;FF5 6
boolGG 
isAdminGG 
=GG 
	roleClaimGG $
.GG$ %
ValueGG% *
==GG+ -
$strGG. 5
;GG5 6
varII 
deletedII 
=II 
awaitII 
_serviceII  (
.II( )
DeleteAsyncII) 4
(II4 5
idII5 7
,II7 8
userIdII9 ?
,II? @
isAdminIIA H
)IIH I
;III J
ifJJ 
(JJ 
!JJ 
deletedJJ 
)JJ 
returnJJ  
NotFoundJJ! )
(JJ) *
)JJ* +
;JJ+ ,
returnKK 
	NoContentKK 
(KK 
)KK 
;KK 
}LL 	
[NN 	
	AuthorizeNN	 
]NN 
[OO 	
HttpPutOO	 
(OO 
$strOO 
)OO 
]OO 
publicPP 
asyncPP 
TaskPP 
<PP 
IActionResultPP '
>PP' (
UpdatePP) /
(PP/ 0
intPP0 3
idPP4 6
,PP6 7
[PP8 9
FromBodyPP9 A
]PPA B
TasinmazDtoPPC N
dtoPPO R
)PPR S
{QQ 	
varRR 
userIdClaimRR 
=RR 
UserRR "
.RR" #
	FindFirstRR# ,
(RR, -
SystemRR- 3
.RR3 4
SecurityRR4 <
.RR< =
ClaimsRR= C
.RRC D

ClaimTypesRRD N
.RRN O
NameIdentifierRRO ]
)RR] ^
;RR^ _
varSS 
	roleClaimSS 
=SS 
UserSS  
.SS  !
	FindFirstSS! *
(SS* +

ClaimTypesSS+ 5
.SS5 6
RoleSS6 :
)SS: ;
;SS; <
ifTT 
(TT 
userIdClaimTT 
==TT 
nullTT #
||TT$ &
	roleClaimTT' 0
==TT1 3
nullTT4 8
)TT8 9
returnUU 
UnauthorizedUU #
(UU# $
)UU$ %
;UU% &
intWW 
userIdWW 
=WW 
intWW 
.WW 
ParseWW "
(WW" #
userIdClaimWW# .
.WW. /
ValueWW/ 4
)WW4 5
;WW5 6
boolXX 
isAdminXX 
=XX 
	roleClaimXX $
.XX$ %
ValueXX% *
==XX+ -
$strXX. 5
;XX5 6
varZZ 
updatedZZ 
=ZZ 
awaitZZ 
_serviceZZ  (
.ZZ( )
UpdateAsyncZZ) 4
(ZZ4 5
idZZ5 7
,ZZ7 8
dtoZZ9 <
,ZZ< =
userIdZZ> D
,ZZD E
isAdminZZF M
)ZZM N
;ZZN O
if[[ 
([[ 
updated[[ 
==[[ 
null[[ 
)[[  
return\\ 
NotFound\\ 
(\\  
)\\  !
;\\! "
return^^ 
Ok^^ 
(^^ 
updated^^ 
)^^ 
;^^ 
}__ 	
[aa 	
	Authorizeaa	 
]aa 
[bb 	
HttpPostbb	 
(bb 
$strbb  
)bb  !
]bb! "
publiccc 
asynccc 
Taskcc 
<cc 
IActionResultcc '
>cc' (
ExportToExcelcc) 6
(cc6 7
[cc7 8
FromBodycc8 @
]cc@ A
TasinmazFilterDtoccB S
filterccT Z
)ccZ [
{dd 	
varee 
userIdClaimee 
=ee 
Useree "
.ee" #
	FindFirstee# ,
(ee, -
Systemee- 3
.ee3 4
Securityee4 <
.ee< =
Claimsee= C
.eeC D

ClaimTypeseeD N
.eeN O
NameIdentifiereeO ]
)ee] ^
;ee^ _
varff 
	roleClaimff 
=ff 
Userff  
.ff  !
	FindFirstff! *
(ff* +
Systemff+ 1
.ff1 2
Securityff2 :
.ff: ;
Claimsff; A
.ffA B

ClaimTypesffB L
.ffL M
RoleffM Q
)ffQ R
;ffR S
ifgg 
(gg 
userIdClaimgg 
==gg 
nullgg #
||gg$ &
	roleClaimgg' 0
==gg1 3
nullgg4 8
)gg8 9
returnhh 
Unauthorizedhh #
(hh# $
)hh$ %
;hh% &
ifkk 
(kk 
	roleClaimkk 
.kk 
Valuekk 
==kk  "
$strkk# )
)kk) *
filterll 
.ll 
UserIdll 
=ll 
intll  #
.ll# $
Parsell$ )
(ll) *
userIdClaimll* 5
.ll5 6
Valuell6 ;
)ll; <
;ll< =
varnn 
fileContentnn 
=nn 
awaitnn #
_servicenn$ ,
.nn, -
ExportToExcelAsyncnn- ?
(nn? @
filternn@ F
)nnF G
;nnG H
returnoo 
Fileoo 
(oo 
fileContentoo #
,oo# $
$stroo% h
,ooh i
$strooj |
)oo| }
;oo} ~
}pp 	
[rr 	
	Authorizerr	 
]rr 
[ss 	
HttpPostss	 
(ss 
$strss 
)ss 
]ss  
publictt 
asynctt 
Tasktt 
<tt 
IActionResulttt '
>tt' (
ExportToPdftt) 4
(tt4 5
[tt5 6
FromBodytt6 >
]tt> ?
TasinmazFilterDtott@ Q
filterttR X
)ttX Y
{uu 	
varvv 
userIdClaimvv 
=vv 
Uservv "
.vv" #
	FindFirstvv# ,
(vv, -
Systemvv- 3
.vv3 4
Securityvv4 <
.vv< =
Claimsvv= C
.vvC D

ClaimTypesvvD N
.vvN O
NameIdentifiervvO ]
)vv] ^
;vv^ _
varww 
	roleClaimww 
=ww 
Userww  
.ww  !
	FindFirstww! *
(ww* +
Systemww+ 1
.ww1 2
Securityww2 :
.ww: ;
Claimsww; A
.wwA B

ClaimTypeswwB L
.wwL M
RolewwM Q
)wwQ R
;wwR S
ifxx 
(xx 
userIdClaimxx 
==xx 
nullxx #
||xx$ &
	roleClaimxx' 0
==xx1 3
nullxx4 8
)xx8 9
returnyy 
Unauthorizedyy #
(yy# $
)yy$ %
;yy% &
if|| 
(|| 
	roleClaim|| 
.|| 
Value|| 
==||  "
$str||# )
)||) *
filter}} 
.}} 
UserId}} 
=}} 
int}}  #
.}}# $
Parse}}$ )
(}}) *
userIdClaim}}* 5
.}}5 6
Value}}6 ;
)}}; <
;}}< =
var 
fileContent 
= 
await #
_service$ ,
., -
ExportToPdfAsync- =
(= >
filter> D
)D E
;E F
return
ÄÄ 
File
ÄÄ 
(
ÄÄ 
fileContent
ÄÄ #
,
ÄÄ# $
$str
ÄÄ% 6
,
ÄÄ6 7
$str
ÄÄ8 I
)
ÄÄI J
;
ÄÄJ K
}
ÅÅ 	
}
ÖÖ 
}ÜÜ ç
gC:\Users\JAMUMU\Desktop\ASP.NET WEB(FM)\TASINMAZ\tasinmazback\TASINMAZ\Controllers\MahalleController.cs
	namespace 	
TASINMAZ
 
. 
Controllers 
{ 
[ 
ApiController 
] 
[ 
Route 

(
 
$str 
) 
] 
public		 

class		 
MahalleController		 "
:		# $
ControllerBase		% 3
{

 
private 
readonly 
IMahalleService (
_mahalleService) 8
;8 9
public 
MahalleController  
(  !
IMahalleService! 0
mahalleService1 ?
)? @
{ 	
_mahalleService 
= 
mahalleService ,
;, -
} 	
[ 	
HttpGet	 
] 
public 
async 
Task 
< 
IActionResult '
>' (
GetAll) /
(/ 0
)0 1
{ 	
var 

mahalleler 
= 
await "
_mahalleService# 2
.2 3
GetAllAsync3 >
(> ?
)? @
;@ A
return 
Ok 
( 

mahalleler  
)  !
;! "
} 	
} 
} õ%
cC:\Users\JAMUMU\Desktop\ASP.NET WEB(FM)\TASINMAZ\tasinmazback\TASINMAZ\Controllers\LogController.cs
	namespace 	
TASINMAZ
 
. 
Controllers 
{ 
[		 
ApiController		 
]		 
[

 
Route

 

(


 
$str

 
)

 
]

 
public 

class 
LogController 
:  
ControllerBase! /
{ 
private 
readonly 
ILogService $
_logService% 0
;0 1
public 
LogController 
( 
ILogService (

logService) 3
)3 4
{ 	
_logService 
= 

logService $
;$ %
} 	
[ 	
HttpGet	 
] 
public 
async 
Task 
< 
IActionResult '
>' (
GetAll) /
(/ 0
)0 1
{ 	
var 
logs 
= 
await 
_logService (
.( )
GetAllAsync) 4
(4 5
)5 6
;6 7
return 
Ok 
( 
logs 
) 
; 
} 	
[ 	
HttpPost	 
( 
$str 
) 
] 
public 
async 
Task 
< 
IActionResult '
>' (
Filter) /
(/ 0
[0 1
FromBody1 9
]9 :
LogFilterDto; G
filterH N
)N O
{ 	
var 
logs 
= 
await 
_logService (
.( )
FilterAsync) 4
(4 5
filter5 ;
); <
;< =
return 
Ok 
( 
logs 
) 
; 
}   	
["" 	
HttpPost""	 
("" 
$str"" 
)"" 
]"" 
public## 
async## 
Task## 
<## 
IActionResult## '
>##' (
ExportToExcel##) 6
(##6 7
[##7 8
FromBody##8 @
]##@ A
LogFilterDto##B N
filter##O U
)##U V
{$$ 	
var%% 
fileContent%% 
=%% 
await%% #
_logService%%$ /
.%%/ 0
ExportToExcelAsync%%0 B
(%%B C
filter%%C I
)%%I J
;%%J K
return&& 
File&& 
(&& 
fileContent&& #
,&&# $
$str&&% h
,&&h i
$str&&j u
)&&u v
;&&v w
}'' 	
[)) 	
	Authorize))	 
()) 
Roles)) 
=)) 
$str)) "
)))" #
]))# $
[** 	
HttpPost**	 
(** 
$str** 
)** 
]**  
public++ 
async++ 
Task++ 
<++ 
IActionResult++ '
>++' (
ExportToPdf++) 4
(++4 5
[++5 6
FromBody++6 >
]++> ?
LogFilterDto++@ L
filter++M S
)++S T
{,, 	
var-- 
fileContent-- 
=-- 
await-- #
_logService--$ /
.--/ 0
ExportToPdfAsync--0 @
(--@ A
filter--A G
)--G H
;--H I
return.. 
File.. 
(.. 
fileContent.. #
,..# $
$str..% 6
,..6 7
$str..8 B
)..B C
;..C D
}// 	
[11 	
HttpPost11	 
(11 
$str11  
)11  !
]11! "
public22 
async22 
Task22 
<22 
IActionResult22 '
>22' (
FilterPaged22) 4
(224 5
[225 6
FromBody226 >
]22> ?
LogFilterDto22@ L
filter22M S
)22S T
{33 	
var44 
(44 
logs44 
,44 

totalCount44 !
)44! "
=44# $
await44% *
_logService44+ 6
.446 7
FilterPagedAsync447 G
(44G H
filter44H N
)44N O
;44O P
return55 
Ok55 
(55 
new55 
{55 
logs55  
,55  !

totalCount55" ,
,55, -
filter55. 4
.554 5

PageNumber555 ?
,55? @
filter55A G
.55G H
PageSize55H P
}55Q R
)55R S
;55S T
}66 	
}77 
}88 —

bC:\Users\JAMUMU\Desktop\ASP.NET WEB(FM)\TASINMAZ\tasinmazback\TASINMAZ\Controllers\IlController.cs
	namespace 	
TASINMAZ
 
. 
Controllers 
{ 
[ 
ApiController 
] 
[ 
Route 

(
 
$str 
) 
] 
public 

class 
IlController 
: 
ControllerBase  .
{		 
private

 
readonly

 

IIlService

 #

_ilService

$ .
;

. /
public 
IlController 
( 

IIlService &
	ilService' 0
)0 1
{ 	

_ilService 
= 
	ilService "
;" #
} 	
[ 	
HttpGet	 
] 
public 
async 
Task 
< 
IActionResult '
>' (
GetAll) /
(/ 0
)0 1
{ 	
var 
iller 
= 
await 

_ilService (
.( )
GetAllAsync) 4
(4 5
)5 6
;6 7
return 
Ok 
( 
iller 
) 
; 
} 	
} 
} È

dC:\Users\JAMUMU\Desktop\ASP.NET WEB(FM)\TASINMAZ\tasinmazback\TASINMAZ\Controllers\IlceController.cs
	namespace 	
TASINMAZ
 
. 
Controllers 
{ 
[ 
ApiController 
] 
[ 
Route 

(
 
$str 
) 
] 
public		 

class		 
IlceController		 
:		  !
ControllerBase		" 0
{

 
private 
readonly 
IIlceService %
_ilceService& 2
;2 3
public 
IlceController 
( 
IIlceService *
ilceService+ 6
)6 7
{ 	
_ilceService 
= 
ilceService &
;& '
} 	
[ 	
HttpGet	 
] 
public 
async 
Task 
< 
IActionResult '
>' (
GetAll) /
(/ 0
)0 1
{ 	
var 
ilceler 
= 
await 
_ilceService  ,
., -
GetAllAsync- 8
(8 9
)9 :
;: ;
return 
Ok 
( 
ilceler 
) 
; 
} 	
} 
} Ø'
dC:\Users\JAMUMU\Desktop\ASP.NET WEB(FM)\TASINMAZ\tasinmazback\TASINMAZ\Controllers\AuthController.cs
	namespace 	
TASINMAZ
 
. 
Controllers 
{ 
[ 
ApiController 
] 
[ 
Route 

(
 
$str 
) 
] 
public 

class 
AuthController 
:  !
ControllerBase" 0
{ 
private 
readonly 
IAuthService %
_authService& 2
;2 3
private 
readonly 
IConfiguration '
_config( /
;/ 0
private 
readonly 
AppDbContext %
_context& .
;. /
public 
AuthController 
( 
IAuthService *
authService+ 6
,6 7
IConfiguration8 F
configG M
,M N
AppDbContextO [
context\ c
)c d
{ 	
_authService 
= 
authService &
;& '
_config 
= 
config 
; 
_context 
= 
context 
; 
} 	
[ 	
HttpPost	 
( 
$str 
) 
] 
public 
async 
Task 
< 
IActionResult '
>' (
Login) .
(. /
[/ 0
FromBody0 8
]8 9
AuthDto: A
dtoB E
)E F
{ 	
var   
user   
=   
await   
_authService   )
.  ) *
ValidateUserAsync  * ;
(  ; <
dto  < ?
.  ? @
Email  @ E
,  E F
dto  G J
.  J K
Password  K S
)  S T
;  T U
if!! 
(!! 
user!! 
==!! 
null!! 
)!! 
return"" 
Unauthorized"" #
(""# $
$str""$ 9
)""9 :
;"": ;
var$$ 
secret$$ 
=$$ 
_config$$  
[$$  !
$str$$! -
]$$- .
;$$. /
var%% 
token%% 
=%% 
TokenHelper%% #
.%%# $
GenerateJwtToken%%$ 4
(%%4 5
user%%5 9
,%%9 :
secret%%; A
!%%A B
)%%B C
;%%C D
return'' 
Ok'' 
('' 
new'' 
AuthResponseDto'' )
{(( 
Token)) 
=)) 
token)) 
,)) 
Email** 
=** 
user** 
.** 
Email** "
,**" #
Role++ 
=++ 
user++ 
.++ 
Role++  
.++  !
ToString++! )
(++) *
)++* +
},, 
),, 
;,, 
}-- 	
[// 	
	Authorize//	 
]// 
[00 	
HttpPost00	 
(00 
$str00 
)00 
]00 
public11 
async11 
Task11 
<11 
IActionResult11 '
>11' (
Logout11) /
(11/ 0
)110 1
{22 	
var33 
userIdClaim33 
=33 
User33 "
.33" #
	FindFirst33# ,
(33, -

ClaimTypes33- 7
.337 8
NameIdentifier338 F
)33F G
;33G H
if44 
(44 
userIdClaim44 
!=44 
null44 #
)44# $
{55 
int66 
userId66 
=66 
int66  
.66  !
Parse66! &
(66& '
userIdClaim66' 2
.662 3
Value663 8
)668 9
;669 :
await99 
_context99 
.99 
Logs99 #
.99# $
AddAsync99$ ,
(99, -
new99- 0
Log991 4
{:: 
UserId;; 
=;; 
userId;; #
,;;# $
Durum<< 
=<< 
$str<< &
,<<& '
	IslemTipi== 
=== 
$str==  '
,==' (
Aciklama>> 
=>> 
$str>> 6
,>>6 7
Tarih?? 
=?? 
DateTime?? $
.??$ %
UtcNow??% +
,??+ ,
Saat@@ 
=@@ 
DateTime@@ #
.@@# $
UtcNow@@$ *
.@@* +
	TimeOfDay@@+ 4
}AA 
)AA 
;AA 
awaitBB 
_contextBB 
.BB 
SaveChangesAsyncBB /
(BB/ 0
)BB0 1
;BB1 2
}CC 
returnHH 
OkHH 
(HH 
newHH 
{HH 
messageHH #
=HH$ %
$strHH& 7
}HH8 9
)HH9 :
;HH: ;
}II 	
}JJ 
}KK 